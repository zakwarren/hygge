{"version":3,"sources":["components/BackButton/BackButton.module.css","containers/AddCategory/AddCategory.module.css","store/actions/actionTypes.js","store/actions/app.js","shared/categories.js","assets/images/sincerely-media-9nhxEa3PK30-unsplash.jpg","assets/images/annie-spratt-OQj0chxpZOI-unsplash.jpg","assets/images/clay-banks-z_DkoUqgx6M-unsplash.jpg","assets/images/jyrki-sorjonen-WnWwzDxvA2M-unsplash.jpg","assets/images/olivier-guillard-FKJgBUDoVC0-unsplash.jpg","assets/images/stephane-juban-DI8Bf6K1134-unsplash.jpg","assets/images/aditya-vyas-PzhmEp_aDU4-unsplash.jpg","assets/images/john-noonan-E-9CFTftQh4-unsplash.jpg","assets/images/emily-toycen-jd_YFWRkOqQ-unsplash.jpg","shared/images.js","store/db.js","store/actions/hygge.js","hooks/useLoadData.js","hooks/useLongPress.js","components/Backdrop/Backdrop.js","containers/Menu/Menu.js","assets/snowflake.png","shared/utilities.js","components/Hygge/HyggeImage.js","components/Hygge/HyggeList.js","components/Heading/Heading.js","containers/Hygge/Hygge.js","components/Collection/Category.js","components/Collection/CategoryList.js","components/Modal/Modal.js","containers/Collection/hand.svg","containers/Collection/Collection.js","components/BackButton/BackButton.js","containers/Category/Category.js","containers/AddCategory/AddCategory.js","containers/AddImage/AddImage.js","App.js","hooks/useInstaller.js","serviceWorkerRegistration.js","store/reducers/app.js","store/reducers/hygge.js","store/store.js","index.js","containers/Menu/Menu.module.css","components/Hygge/HyggeImage.module.css","components/Collection/Category.module.css","containers/AddImage/AddImage.module.css","components/Heading/Heading.module.css","components/Hygge/HyggeList.module.css","components/Modal/Modal.module.css","App.module.css","containers/Category/Category.module.css","containers/Collection/Collection.module.css","components/Backdrop/Backdrop.module.css","containers/Hygge/Hygge.module.css","components/Collection/CategoryList.module.css"],"names":["module","exports","SET_ALL_HYGGE","SET_COLLECTION","SET_SELECTED","SET_CATEGORIES","SET_NEEDS_HELP","STORED_HELP","setRoutesHelped","routesHelped","type","actionTypes","RANDOM","ALL","name","color","CREATE","CATEGORIES","surreal","warmth","seasons","aquatic","creatures","IMAGE_MAPPING","id","image","blanket1","attribution","category","book1","book2","cabin1","cabin2","fire1","rain1","rain2","snow1","filterImages","allImages","selection","filtered","sort","Math","random","slice","toLowerCase","filter","map","length","includes","display","isExpanded","db","Dexie","TABLE_NAMES","version","stores","STORED_SELECTION","setAllHygge","imageMapping","allHygge","getImages","a","table","toArray","storedImages","setCollection","collection","setSelectedIds","selectedIds","getSelection","dispatch","getState","hygge","idString","localStorage","getItem","ids","JSON","parse","setCategories","categories","saveCategories","catKeys","Object","keys","cats","cat","index","clear","bulkAdd","useLoadData","useDispatch","useEffect","storedHelp","getNeedsHelp","catObj","forEach","preventDefault","event","isTouchEvent","touches","Backdrop","props","show","className","css","onClick","clicked","Menu","useState","isOpen","setIsOpen","toggleMenuHandler","prevOpen","classes","content","push","Open","MenuItem","to","exact","canInstall","install","Inactive","join","updateObject","oldObject","updatedProperties","expandHygge","HyggeImage","isSelected","isSmall","longClicked","removeHygge","clickEvents","onLongPress","shouldPreventDefault","delay","longPressTriggered","setLongPressTriggered","timeout","useRef","target","start","useCallback","addEventListener","passive","current","setTimeout","shouldTriggerClick","clearTimeout","removeEventListener","onMouseDown","e","onTouchStart","onMouseUp","onMouseLeave","onTouchEnd","useLongPress","clickHandler","Expanded","Shrunk","Small","imgClasses","Circle","Selected","src","alt","Attribution","Remove","stopPropagation","HyggeList","list","wrap","clickHygge","longClickHygge","Wrap","el","Heading","headerText","hasExpanded","headerClasses","superHeaderClasses","SuperHeader","connect","state","onGetSelection","actions","onSetCollection","newCollection","setHasExpanded","Hygge","areExpanded","some","hg","Category","removeCategory","style","backgroundColor","opacity","SubHeading","Big","Value","CategoryList","Collections","Modal","closeFn","children","Content","Close","needsHelp","app","onHadHelp","routeName","newRoutesHelped","setItem","stringify","onSaveCategories","newCategories","history","helpContent","Column","Row","Cell","Hand","hand","Bold","Filled","setCategory","mappedCats","catName","images","img","unshift","Collection","Categories","categoryName","filteredCats","BackButton","onSaveSelection","removeItem","onRemoveHygge","updatedHygge","match","params","render","listWithSelected","selected","backingStyle","Backing","select","selId","unique","Set","totalSelected","hyggePlural","toast","dark","toastId","validationSchema","yup","shape","required","Container","initialValues","onSubmit","values","newCats","errors","touched","isDisabled","Form","InputContainer","Label","htmlFor","Input","ValidationError","Controls","Button","disabled","onSaveNewHygge","allIds","newId","max","apply","imgRef","canUseCamera","setCanUseCamera","navigator","mediaDevices","getUserMedia","video","getCameras","getPicture","takePhoto","imgInput","document","getElementById","capture","removeAttribute","click","catArray","goBack","file","files","reader","FileReader","readAsDataURL","result","accept","ref","UploadedImage","as","value","App","deferredPrompt","setDeferredPrompt","window","getInstallPrompt","prompt","useInstaller","installHandler","routes","path","component","AddCategory","AddImage","Logo","logo","Toastit","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","pauseOnFocusLoss","draggable","pauseOnHover","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","console","initialState","reducer","action","composeEnhancers","compose","rootReducer","combineReducers","appReducer","hyggeReducer","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","basename","process","URL","href","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","log","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.c5a4b574.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"BackButton\":\"BackButton_BackButton__bgzbh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"AddCategory_Container__32VHG\",\"Form\":\"AddCategory_Form__-wxGw\",\"Heading\":\"AddCategory_Heading__3v7Ga\",\"Controls\":\"AddCategory_Controls__241mK\",\"InputContainer\":\"AddCategory_InputContainer__3_kun\",\"Label\":\"AddCategory_Label__2Dhth\",\"Input\":\"AddCategory_Input__2MIeA\",\"ValidationError\":\"AddCategory_ValidationError__rAdz6\",\"Button\":\"AddCategory_Button__309AH\"};","export const SET_ALL_HYGGE = \"SET_ALL_HYGGE\";\r\nexport const SET_COLLECTION = \"SET_COLLECTION\";\r\nexport const SET_SELECTED = \"SET_SELECTED\";\r\nexport const SET_CATEGORIES = \"SET_CATEGORIES\";\r\n\r\nexport const SET_NEEDS_HELP = \"SET_NEEDS_HELP\";\r\n","import * as actionTypes from \"./actionTypes\";\r\n\r\nexport const STORED_HELP = \"isHelped\";\r\n\r\nexport const getNeedsHelp = () => {\r\n  const storedHelp = localStorage.getItem(STORED_HELP);\r\n  const routesHelped = storedHelp ? JSON.parse(storedHelp) : {};\r\n  return {\r\n    type: actionTypes.SET_NEEDS_HELP,\r\n    routesHelped: routesHelped,\r\n  };\r\n};\r\n\r\nexport const setNeedsHelp = (routeName) => {\r\n  return (dispatch, getState) => {\r\n    const { routesHelped } = getState().app;\r\n    const newRoutesHelped = { ...routesHelped, [routeName]: true };\r\n    localStorage.setItem(STORED_HELP, JSON.stringify(newRoutesHelped));\r\n    dispatch(setRoutesHelped(newRoutesHelped));\r\n  };\r\n};\r\n\r\nexport const setRoutesHelped = (routesHelped) => {\r\n  return {\r\n    type: actionTypes.SET_NEEDS_HELP,\r\n    routesHelped: routesHelped,\r\n  };\r\n};\r\n","export const RANDOM = \"Random\";\r\n\r\nexport const ALL = {\r\n  name: \"All\",\r\n  color: \"#bd8e62\",\r\n};\r\n\r\nexport const CREATE = {\r\n  name: \"+\",\r\n  color: \"#deddd9\",\r\n};\r\n\r\nexport const CATEGORIES = {\r\n  surreal: {\r\n    name: \"Surreal\",\r\n    color: \"#48d0e2\",\r\n  },\r\n  warmth: {\r\n    name: \"Warmth\",\r\n    color: \"#db5b5b\",\r\n  },\r\n  seasons: {\r\n    name: \"Seasons\",\r\n    color: \"#f2b61a\",\r\n  },\r\n  aquatic: {\r\n    name: \"Aquatic\",\r\n    color: \"#6ca7ec\",\r\n  },\r\n  creatures: {\r\n    name: \"Creatures\",\r\n    color: \"#7ab778\",\r\n  },\r\n};\r\n","export default __webpack_public_path__ + \"static/media/sincerely-media-9nhxEa3PK30-unsplash.8274d1f2.jpg\";","export default __webpack_public_path__ + \"static/media/annie-spratt-OQj0chxpZOI-unsplash.95aef95b.jpg\";","export default __webpack_public_path__ + \"static/media/clay-banks-z_DkoUqgx6M-unsplash.76cd620b.jpg\";","export default __webpack_public_path__ + \"static/media/jyrki-sorjonen-WnWwzDxvA2M-unsplash.f84e3c7c.jpg\";","export default __webpack_public_path__ + \"static/media/olivier-guillard-FKJgBUDoVC0-unsplash.4b219741.jpg\";","export default __webpack_public_path__ + \"static/media/stephane-juban-DI8Bf6K1134-unsplash.0f33437b.jpg\";","export default __webpack_public_path__ + \"static/media/aditya-vyas-PzhmEp_aDU4-unsplash.612f23e0.jpg\";","export default __webpack_public_path__ + \"static/media/john-noonan-E-9CFTftQh4-unsplash.498b4ca3.jpg\";","export default __webpack_public_path__ + \"static/media/emily-toycen-jd_YFWRkOqQ-unsplash.94656feb.jpg\";","import { CATEGORIES, RANDOM, ALL } from \"./categories\";\r\n\r\nimport blanket1 from \"../assets/images/sincerely-media-9nhxEa3PK30-unsplash.jpg\";\r\nimport book1 from \"../assets/images/annie-spratt-OQj0chxpZOI-unsplash.jpg\";\r\nimport book2 from \"../assets/images/clay-banks-z_DkoUqgx6M-unsplash.jpg\";\r\nimport cabin1 from \"../assets/images/jyrki-sorjonen-WnWwzDxvA2M-unsplash.jpg\";\r\nimport cabin2 from \"../assets/images/olivier-guillard-FKJgBUDoVC0-unsplash.jpg\";\r\nimport fire1 from \"../assets/images/stephane-juban-DI8Bf6K1134-unsplash.jpg\";\r\nimport rain1 from \"../assets/images/aditya-vyas-PzhmEp_aDU4-unsplash.jpg\";\r\nimport rain2 from \"../assets/images/john-noonan-E-9CFTftQh4-unsplash.jpg\";\r\nimport snow1 from \"../assets/images/emily-toycen-jd_YFWRkOqQ-unsplash.jpg\";\r\n\r\nconst random_amount = 4;\r\n\r\nexport const IMAGE_MAPPING = [\r\n  {\r\n    id: 1,\r\n    image: blanket1,\r\n    attribution: \"Photo by Sincerely Media on Unsplash\",\r\n    category: CATEGORIES.warmth.name,\r\n  },\r\n  {\r\n    id: 2,\r\n    image: book1,\r\n    attribution: \"Photo by Annie Spratt on Unsplash\",\r\n    category: CATEGORIES.warmth.name,\r\n  },\r\n  {\r\n    id: 3,\r\n    image: book2,\r\n    attribution: \"Photo by Clay Banks on Unsplash\",\r\n    category: CATEGORIES.surreal.name,\r\n  },\r\n  {\r\n    id: 4,\r\n    image: cabin1,\r\n    attribution: \"Photo by Jyrki Sorjonen on Unsplash\",\r\n    category: CATEGORIES.seasons.name,\r\n  },\r\n  {\r\n    id: 5,\r\n    image: cabin2,\r\n    attribution: \"Photo by Olivier Guillard on Unsplash\",\r\n    category: CATEGORIES.seasons.name,\r\n  },\r\n  {\r\n    id: 6,\r\n    image: fire1,\r\n    attribution: \"Photo by Stéphane Juban on Unsplash\",\r\n    category: CATEGORIES.warmth.name,\r\n  },\r\n  {\r\n    id: 7,\r\n    image: rain1,\r\n    attribution: \"Photo by Aditya Vyas on Unsplash\",\r\n    category: CATEGORIES.seasons.name,\r\n  },\r\n  {\r\n    id: 8,\r\n    image: rain2,\r\n    attribution: \"Photo by John Noonan on Unsplash\",\r\n    category: CATEGORIES.seasons.name,\r\n  },\r\n  {\r\n    id: 9,\r\n    image: snow1,\r\n    attribution: \"Photo by Emily Toycen on Unsplash\",\r\n    category: CATEGORIES.seasons.name,\r\n  },\r\n];\r\n\r\nexport const filterImages = (allImages, category, selection) => {\r\n  let filtered;\r\n\r\n  if (category === RANDOM) {\r\n    const shuffled = allImages.sort(() => 0.5 - Math.random());\r\n    filtered = shuffled.slice(0, random_amount);\r\n  } else if (category && category !== ALL.name.toLowerCase()) {\r\n    filtered = allImages.filter(\r\n      (map) => map.category.toLowerCase() === category.toLowerCase()\r\n    );\r\n  } else if (selection && selection.length > 0) {\r\n    filtered = allImages.filter((map) => selection.includes(map.id));\r\n  } else {\r\n    filtered = allImages;\r\n  }\r\n\r\n  const images = filtered.map((map) => {\r\n    return {\r\n      ...map,\r\n      display: true,\r\n      isExpanded: false,\r\n    };\r\n  });\r\n  return images;\r\n};\r\n","import Dexie from \"dexie\";\r\n\r\nconst db = new Dexie(\"hygge\");\r\n\r\nexport const TABLE_NAMES = {\r\n  categories: \"categories\",\r\n  images: \"images\",\r\n};\r\n\r\ndb.version(1).stores({\r\n  [TABLE_NAMES.categories]: \"id, category, name, color\",\r\n  [TABLE_NAMES.images]: \"id, image, attribution, category\",\r\n});\r\n\r\nexport default db;\r\n","import * as actionTypes from \"./actionTypes\";\r\nimport { filterImages, IMAGE_MAPPING } from \"../../shared/images\";\r\nimport { RANDOM, CATEGORIES } from \"../../shared/categories\";\r\nimport db, { TABLE_NAMES } from \"../db\";\r\n\r\nconst STORED_SELECTION = \"myHygge\";\r\n\r\nexport const setAllHygge = (imageMapping) => {\r\n  return {\r\n    type: actionTypes.SET_ALL_HYGGE,\r\n    allHygge: imageMapping,\r\n  };\r\n};\r\n\r\nconst getImages = async () => {\r\n  const storedImages = await db.table(TABLE_NAMES.images).toArray();\r\n  const imageMapping = storedImages.length > 1 ? storedImages : IMAGE_MAPPING;\r\n  const allHygge = filterImages(imageMapping);\r\n  return allHygge;\r\n};\r\n\r\nexport const getAllHygge = () => {\r\n  return async (dispatch) => {\r\n    const allHygge = await getImages();\r\n    dispatch(setAllHygge(allHygge));\r\n  };\r\n};\r\n\r\nexport const saveNewHygge = (image, attribution, category) => {\r\n  return async (dispatch, getState) => {\r\n    const { allHygge } = getState().hygge;\r\n    const allIds = allHygge.map((hygge) => hygge.id);\r\n    const newId = allIds.length > 0 ? Math.max.apply(null, allIds) + 1 : 1;\r\n    const updatedHygge = [\r\n      ...allHygge,\r\n      {\r\n        id: newId,\r\n        image: image,\r\n        attribution: attribution,\r\n        category: category,\r\n      },\r\n    ];\r\n\r\n    await db.table(TABLE_NAMES.images).clear();\r\n    await db.table(TABLE_NAMES.images).bulkAdd(updatedHygge);\r\n\r\n    dispatch(setAllHygge(updatedHygge));\r\n  };\r\n};\r\n\r\nexport const removeHygge = (id) => {\r\n  return async (dispatch, getState) => {\r\n    const { allHygge } = getState().hygge;\r\n    const updatedHygge = allHygge.filter((hg) => hg.id !== id);\r\n\r\n    await db.table(TABLE_NAMES.images).clear();\r\n    await db.table(TABLE_NAMES.images).bulkAdd(updatedHygge);\r\n\r\n    dispatch(setAllHygge(updatedHygge));\r\n  };\r\n};\r\n\r\nexport const setCollection = (collection) => {\r\n  return {\r\n    type: actionTypes.SET_COLLECTION,\r\n    collection: collection,\r\n  };\r\n};\r\n\r\nexport const setSelectedIds = (selectedIds) => {\r\n  return {\r\n    type: actionTypes.SET_SELECTED,\r\n    selectedIds: selectedIds,\r\n  };\r\n};\r\n\r\nexport const getSelection = () => {\r\n  return async (dispatch, getState) => {\r\n    let { allHygge } = getState().hygge;\r\n    if (!allHygge) {\r\n      allHygge = await getImages();\r\n    }\r\n\r\n    const idString = localStorage.getItem(STORED_SELECTION);\r\n    const ids = idString ? JSON.parse(idString) : null;\r\n    if (ids) {\r\n      dispatch(setSelectedIds(ids));\r\n      const collection = filterImages(allHygge, null, ids);\r\n      dispatch(setCollection(collection));\r\n    } else {\r\n      const collection = filterImages(allHygge, RANDOM);\r\n      dispatch(setCollection(collection));\r\n    }\r\n  };\r\n};\r\n\r\nexport const saveSelection = (selectedIds) => {\r\n  return (dispatch) => {\r\n    if (selectedIds.length === 0) {\r\n      localStorage.removeItem(STORED_SELECTION);\r\n    } else {\r\n      const idString = JSON.stringify(selectedIds);\r\n      localStorage.setItem(STORED_SELECTION, idString);\r\n    }\r\n\r\n    dispatch(setSelectedIds(selectedIds));\r\n  };\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return async (dispatch) => {\r\n    const cats = await db.table(TABLE_NAMES.categories).toArray();\r\n    const catObj = {};\r\n    cats.forEach((cat) => {\r\n      catObj[cat.category] = { name: cat.name, color: cat.color };\r\n    });\r\n    const categories = cats.length > 0 ? catObj : CATEGORIES;\r\n    dispatch(setCategories(categories));\r\n  };\r\n};\r\n\r\nexport const setCategories = (categories) => {\r\n  return {\r\n    type: actionTypes.SET_CATEGORIES,\r\n    categories: categories,\r\n  };\r\n};\r\n\r\nexport const saveCategories = (categories) => {\r\n  return async (dispatch) => {\r\n    const catKeys = Object.keys(categories);\r\n    const cats = catKeys.map((cat, index) => {\r\n      return { id: index, category: cat, ...categories[cat] };\r\n    });\r\n\r\n    await db.table(TABLE_NAMES.categories).clear();\r\n    await db.table(TABLE_NAMES.categories).bulkAdd(cats);\r\n\r\n    dispatch(setCategories(categories));\r\n  };\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n  getNeedsHelp,\r\n  getAllHygge,\r\n  getSelection,\r\n  getCategories,\r\n} from \"../store/actions/index\";\r\n\r\nexport const useLoadData = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getNeedsHelp());\r\n    dispatch(getAllHygge());\r\n    dispatch(getCategories());\r\n    dispatch(getSelection());\r\n  }, [dispatch]);\r\n};\r\n","import { useCallback, useRef, useState } from \"react\";\r\n\r\nexport const useLongPress = (\r\n  onLongPress,\r\n  onClick,\r\n  { shouldPreventDefault = true, delay = 300 } = {}\r\n) => {\r\n  const [longPressTriggered, setLongPressTriggered] = useState(false);\r\n  const timeout = useRef();\r\n  const target = useRef();\r\n\r\n  const start = useCallback(\r\n    (event) => {\r\n      if (shouldPreventDefault && event.target) {\r\n        event.target.addEventListener(\"touchend\", preventDefault, {\r\n          passive: false,\r\n        });\r\n        target.current = event.target;\r\n      }\r\n      timeout.current = setTimeout(() => {\r\n        onLongPress(event);\r\n        setLongPressTriggered(true);\r\n      }, delay);\r\n    },\r\n    [onLongPress, delay, shouldPreventDefault]\r\n  );\r\n\r\n  const clear = useCallback(\r\n    (event, shouldTriggerClick = true) => {\r\n      timeout.current && clearTimeout(timeout.current);\r\n      shouldTriggerClick && !longPressTriggered && onClick();\r\n      setLongPressTriggered(false);\r\n      if (shouldPreventDefault && target.current) {\r\n        target.current.removeEventListener(\"touchend\", preventDefault);\r\n      }\r\n    },\r\n    [shouldPreventDefault, onClick, longPressTriggered]\r\n  );\r\n\r\n  return {\r\n    onMouseDown: (e) => start(e),\r\n    onTouchStart: (e) => start(e),\r\n    onMouseUp: (e) => clear(e),\r\n    onMouseLeave: (e) => clear(e, false),\r\n    onTouchEnd: (e) => clear(e),\r\n  };\r\n};\r\n\r\nconst isTouchEvent = (event) => {\r\n  return \"touches\" in event;\r\n};\r\n\r\nconst preventDefault = (event) => {\r\n  if (!isTouchEvent(event)) return;\r\n\r\n  if (event.touches.length < 2 && event.preventDefault) {\r\n    event.preventDefault();\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./Backdrop.module.css\";\r\n\r\nconst Backdrop = (props) =>\r\n  props.show ? (\r\n    <div className={css.Backdrop} onClick={props.clicked}></div>\r\n  ) : null;\r\n\r\nBackdrop.propTypes = {\r\n  show: PropTypes.bool,\r\n  clicked: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Backdrop;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport css from \"./Menu.module.css\";\r\nimport Backdrop from \"../../components/Backdrop/Backdrop\";\r\n\r\nconst Menu = (props) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggleMenuHandler = () => setIsOpen((prevOpen) => !prevOpen);\r\n\r\n  let classes = [css.Menu];\r\n  let content = <p>...</p>;\r\n  if (isOpen) {\r\n    classes.push(css.Open);\r\n    content = (\r\n      <>\r\n        <p className={css.MenuItem}>\r\n          <NavLink to=\"/\" exact>\r\n            My hygge board\r\n          </NavLink>\r\n        </p>\r\n        <p className={css.MenuItem}>\r\n          <NavLink to=\"/collection\">My collection</NavLink>\r\n        </p>\r\n        {props.canInstall ? (\r\n          <p className={css.MenuItem} onClick={props.install}>\r\n            Install\r\n          </p>\r\n        ) : null}\r\n        <p className={css.MenuItem}>\r\n          <NavLink to=\"/add\">Upload file</NavLink>\r\n        </p>\r\n        <p className={[css.MenuItem, css.Inactive].join(\" \")}>Share board</p>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Backdrop show={isOpen} clicked={toggleMenuHandler} />\r\n      <div className={classes.join(\" \")} onClick={toggleMenuHandler}>\r\n        {content}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nMenu.propTypes = {\r\n  canInstall: PropTypes.bool.isRequired,\r\n  install: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Menu;\r\n","export default __webpack_public_path__ + \"static/media/snowflake.e574fcc0.png\";","export const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties,\r\n  };\r\n};\r\n\r\nexport const expandHygge = (collection, id) => {\r\n  const updated = collection.map((hygge) => {\r\n    const newHygge = updateObject(hygge, {\r\n      display: hygge.id === id ? hygge.display : !hygge.display,\r\n      isExpanded: hygge.id === id ? !hygge.isExpanded : hygge.isExpanded,\r\n    });\r\n    return newHygge;\r\n  });\r\n  return updated;\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./HyggeImage.module.css\";\r\nimport { useLongPress } from \"../../hooks/useLongPress\";\r\n\r\nconst HyggeImage = (props) => {\r\n  const {\r\n    id,\r\n    image,\r\n    attribution,\r\n    display,\r\n    isExpanded,\r\n    isSelected,\r\n    isSmall,\r\n    clicked,\r\n    longClicked,\r\n    removeHygge,\r\n  } = props;\r\n\r\n  const clickEvents = useLongPress(longClicked, clicked, {\r\n    shouldPreventDefault: true,\r\n    delay: 500,\r\n  });\r\n  const clickHandler = longClicked ? clickEvents : { onClick: clicked };\r\n\r\n  const classes = [css.HyggeImage];\r\n  if (isExpanded) {\r\n    classes.push(css.Expanded);\r\n  } else if (!display) {\r\n    classes.push(css.Shrunk);\r\n  }\r\n  if (isSmall && !isExpanded && display) {\r\n    classes.push(css.Small);\r\n  }\r\n\r\n  const imgClasses = [css.Circle];\r\n  if (isSelected) {\r\n    imgClasses.push(css.Selected);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.join(\" \")}>\r\n      <img\r\n        className={imgClasses.join(\" \")}\r\n        src={image}\r\n        alt={attribution}\r\n        {...clickHandler}\r\n      />\r\n      {isExpanded ? (\r\n        <span className={css.Attribution}>{attribution}</span>\r\n      ) : null}\r\n      {isExpanded || !removeHygge ? null : (\r\n        <span\r\n          className={css.Remove}\r\n          onClick={(event) => {\r\n            event.stopPropagation();\r\n            removeHygge(id);\r\n          }}\r\n        >\r\n          X\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nHyggeImage.propTypes = {\r\n  id: PropTypes.number,\r\n  image: PropTypes.string.isRequired,\r\n  attribution: PropTypes.string.isRequired,\r\n  display: PropTypes.bool.isRequired,\r\n  isExpanded: PropTypes.bool.isRequired,\r\n  isSelected: PropTypes.bool,\r\n  isSmall: PropTypes.bool.isRequired,\r\n  clicked: PropTypes.func.isRequired,\r\n  longClicked: PropTypes.func,\r\n  removeHygge: PropTypes.func,\r\n};\r\n\r\nexport default HyggeImage;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./HyggeList.module.css\";\r\nimport HyggeImage from \"./HyggeImage\";\r\n\r\nconst HyggeList = (props) => {\r\n  const { list, wrap, clickHygge, longClickHygge, removeHygge } = props;\r\n\r\n  const classes = wrap ? `${css.HyggeList} ${css.Wrap}` : css.HyggeList;\r\n\r\n  return (\r\n    <div className={classes}>\r\n      {list.map((el) => (\r\n        <HyggeImage\r\n          key={el.id}\r\n          isSmall={wrap}\r\n          {...el}\r\n          clicked={() => clickHygge(el.id)}\r\n          longClicked={longClickHygge ? () => longClickHygge(el.id) : null}\r\n          removeHygge={removeHygge}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nHyggeList.propTypes = {\r\n  list: PropTypes.array.isRequired,\r\n  wrap: PropTypes.bool.isRequired,\r\n  clickHygge: PropTypes.func.isRequired,\r\n  longClickHygge: PropTypes.func,\r\n  removeHygge: PropTypes.func,\r\n};\r\n\r\nexport default HyggeList;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./Heading.module.css\";\r\n\r\nconst Heading = (props) => {\r\n  const { headerText, hasExpanded } = props;\r\n\r\n  const headerClasses = [css.Heading];\r\n  const superHeaderClasses = [css.SuperHeader];\r\n  if (hasExpanded) {\r\n    headerClasses.push(css.Expanded);\r\n    superHeaderClasses.push(css.Expanded);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h5 className={superHeaderClasses.join(\" \")}>my</h5>\r\n      <h1 className={headerClasses.join(\" \")}>{headerText}</h1>\r\n    </>\r\n  );\r\n};\r\n\r\nHeading.propTypes = {\r\n  headerText: PropTypes.string.isRequired,\r\n  hasExpanded: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Heading;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./Hygge.module.css\";\r\nimport * as actions from \"../../store/actions/index\";\r\nimport { expandHygge } from \"../../shared/utilities\";\r\nimport HyggeList from \"../../components/Hygge/HyggeList\";\r\nimport Heading from \"../../components/Heading/Heading\";\r\n\r\nexport const Hygge = (props) => {\r\n  const { collection, onGetSelection, onSetCollection } = props;\r\n  const [hasExpanded, setHasExpanded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    onGetSelection();\r\n  }, [onGetSelection]);\r\n\r\n  const clickHyggeHandler = (id) => {\r\n    const newCollection = expandHygge(collection, id);\r\n    onSetCollection(newCollection);\r\n    const areExpanded = newCollection.some((hg) => hg.isExpanded);\r\n    setHasExpanded(areExpanded);\r\n  };\r\n\r\n  return (\r\n    <main className={css.Hygge}>\r\n      <Heading headerText=\"Hygge Board\" hasExpanded={hasExpanded} />\r\n      {collection && (\r\n        <HyggeList\r\n          list={collection}\r\n          wrap={false}\r\n          clickHygge={clickHyggeHandler}\r\n        />\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nHygge.propTypes = {\r\n  collection: PropTypes.array,\r\n  onGetSelection: PropTypes.func.isRequired,\r\n  onSetCollection: PropTypes.func.isRequired,\r\n};\r\n\r\nexport const mapStateToProps = (state) => {\r\n  return {\r\n    collection: state.hygge.collection,\r\n  };\r\n};\r\n\r\nexport const mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onGetSelection: () => dispatch(actions.getSelection()),\r\n    onSetCollection: (newCollection) =>\r\n      dispatch(actions.setCollection(newCollection)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Hygge);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./Category.module.css\";\r\nimport { CREATE, ALL } from \"../../shared/categories\";\r\n\r\nconst Category = ({ name, color, collection, onClick, removeCategory }) => (\r\n  <div\r\n    className={css.Circle}\r\n    style={{ backgroundColor: color, opacity: name === CREATE.name ? 1 : 0.25 }}\r\n    onClick={onClick}\r\n  >\r\n    <h2 className={`${css.SubHeading} ${name === CREATE.name ? css.Big : \"\"}`}>\r\n      {name}\r\n    </h2>\r\n    {name === CREATE.name ? null : (\r\n      <div className={css.Value}>x {collection.length}</div>\r\n    )}\r\n    {[CREATE.name, ALL.name].includes(name) ? null : (\r\n      <span\r\n        className={css.Remove}\r\n        onClick={(event) => {\r\n          event.stopPropagation();\r\n          removeCategory(name);\r\n        }}\r\n      >\r\n        X\r\n      </span>\r\n    )}\r\n  </div>\r\n);\r\n\r\nCategory.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n  collection: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  removeCategory: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Category;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./CategoryList.module.css\";\r\nimport Category from \"./Category\";\r\n\r\nconst CategoryList = ({ list, removeCategory }) => (\r\n  <section className={css.Collections}>\r\n    {list.map((el) => (\r\n      <Category key={el.name} {...el} removeCategory={removeCategory} />\r\n    ))}\r\n  </section>\r\n);\r\n\r\nCategoryList.propTypes = {\r\n  list: PropTypes.array.isRequired,\r\n  removeCategory: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CategoryList;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./Modal.module.css\";\r\n\r\nconst Modal = ({ closeFn, children }) => (\r\n  <div className={css.Modal} onClick={closeFn}>\r\n    <div className={css.Content}>\r\n      <span className={css.Close} onClick={closeFn}>\r\n        &times;\r\n      </span>\r\n      <section>{children}</section>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nModal.propTypes = {\r\n  closeFn: PropTypes.func.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","export default __webpack_public_path__ + \"static/media/hand.991e5633.svg\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./Collection.module.css\";\r\nimport * as actions from \"../../store/actions/index\";\r\nimport { ALL, CREATE } from \"../../shared/categories\";\r\nimport CategoryList from \"../../components/Collection/CategoryList\";\r\nimport Heading from \"../../components/Heading/Heading\";\r\nimport Modal from \"../../components/Modal/Modal\";\r\nimport hand from \"./hand.svg\";\r\n\r\nexport const Collection = (props) => {\r\n  const {\r\n    history,\r\n    needsHelp,\r\n    allHygge,\r\n    categories,\r\n    onHadHelp,\r\n    onSaveCategories,\r\n  } = props;\r\n\r\n  if (!categories || !allHygge) {\r\n    return null;\r\n  }\r\n\r\n  const helpContent = needsHelp ? (\r\n    <div className={css.Column}>\r\n      <div className={css.Row}>\r\n        <div className={css.Cell}>\r\n          <div className={css.Circle} />\r\n          <img className={css.Hand} src={hand} alt=\"hand\" />\r\n        </div>\r\n        <div className={css.Cell}>\r\n          <p>\r\n            <span className={css.Bold}>Tap</span> to zoom\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className={css.Row}>\r\n        <div className={css.Cell}>\r\n          <div className={`${css.Circle} ${css.Filled}`} />\r\n          <img className={css.Hand} src={hand} alt=\"hand\" />\r\n        </div>\r\n        <div className={css.Cell}>\r\n          <p className={css.Bold}>Tap and hold</p>\r\n          <p>to add to board</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n\r\n  const setCategory = (category) => {\r\n    history.push(`/collection/${category}`);\r\n  };\r\n\r\n  const removeCategory = (categoryName) => {\r\n    const filteredCats = { ...categories };\r\n    delete filteredCats[categoryName.toLowerCase()];\r\n    onSaveCategories(filteredCats);\r\n  };\r\n\r\n  const catKeys = Object.keys(categories);\r\n  const mappedCats = catKeys.map((catName) => {\r\n    const cat = categories[catName];\r\n    const images = allHygge.filter((img) => img.category === cat.name);\r\n    const catWithImgs = {\r\n      ...cat,\r\n      collection: images,\r\n      onClick: () => setCategory(cat.name),\r\n    };\r\n    return catWithImgs;\r\n  });\r\n  mappedCats.unshift({\r\n    name: ALL.name,\r\n    color: ALL.color,\r\n    collection: allHygge,\r\n    onClick: () => setCategory(ALL.name),\r\n  });\r\n  mappedCats.push({\r\n    name: CREATE.name,\r\n    color: CREATE.color,\r\n    collection: [],\r\n    onClick: () => history.push(\"/collection/add\"),\r\n  });\r\n\r\n  return (\r\n    <main className={css.Collection}>\r\n      <Heading headerText=\"Collection\" hasExpanded={false} />\r\n      <section className={css.Categories}>\r\n        <CategoryList list={mappedCats} removeCategory={removeCategory} />\r\n      </section>\r\n      {needsHelp && <Modal closeFn={onHadHelp}>{helpContent}</Modal>}\r\n    </main>\r\n  );\r\n};\r\n\r\nCollection.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  needsHelp: PropTypes.bool.isRequired,\r\n  allHygge: PropTypes.array,\r\n  categories: PropTypes.objectOf(\r\n    PropTypes.exact({\r\n      name: PropTypes.string.isRequired,\r\n      color: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  onHadHelp: PropTypes.func.isRequired,\r\n  onSaveCategories: PropTypes.func.isRequired,\r\n};\r\n\r\nexport const mapStateToProps = (state) => {\r\n  return {\r\n    needsHelp: !state.app.routesHelped?.collection,\r\n    allHygge: state.hygge.allHygge,\r\n    categories: state.hygge.categories,\r\n  };\r\n};\r\n\r\nexport const mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onHadHelp: () => dispatch(actions.setNeedsHelp(\"collection\")),\r\n    onSaveCategories: (newCategories) =>\r\n      dispatch(actions.saveCategories(newCategories)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Collection);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./BackButton.module.css\";\r\n\r\nconst BackButton = ({ onClick }) => (\r\n  <span className={css.BackButton} onClick={onClick}>\r\n    &lt;\r\n  </span>\r\n);\r\n\r\nBackButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BackButton;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport css from \"./Category.module.css\";\r\nimport * as actions from \"../../store/actions\";\r\nimport { filterImages } from \"../../shared/images\";\r\nimport { expandHygge } from \"../../shared/utilities\";\r\nimport { ALL } from \"../../shared/categories\";\r\nimport Heading from \"../../components/Heading/Heading\";\r\nimport HyggeList from \"../../components/Hygge/HyggeList\";\r\nimport BackButton from \"../../components/BackButton/BackButton\";\r\n\r\nexport const Category = (props) => {\r\n  const {\r\n    history,\r\n    match,\r\n    allHygge,\r\n    selectedIds,\r\n    categories,\r\n    onSaveSelection,\r\n    onSetCollection,\r\n    onRemoveHygge,\r\n  } = props;\r\n  const [hasExpanded, setHasExpanded] = useState(false);\r\n\r\n  const category = match.params.category.toLowerCase();\r\n  let render = null;\r\n\r\n  if (allHygge && allHygge.length > 0) {\r\n    const collection = filterImages(allHygge, category);\r\n\r\n    const clickHandler = (id) => {\r\n      const newCollection = expandHygge(collection, id);\r\n      onSetCollection(newCollection);\r\n      const areExpanded = newCollection.some((hg) => hg.isExpanded);\r\n      setHasExpanded(areExpanded);\r\n    };\r\n\r\n    const longClickHandler = (id) => {\r\n      let select = [];\r\n      if (selectedIds && selectedIds.includes(id)) {\r\n        select = selectedIds.filter((selId) => selId !== id);\r\n      } else {\r\n        select = selectedIds ? [...selectedIds, id] : [id];\r\n      }\r\n      const unique = [...new Set(select)];\r\n\r\n      const totalSelected = unique ? unique.length : 0;\r\n      const hyggePlural = totalSelected === 1 ? \"image\" : \"images\";\r\n      toast.dark(`${totalSelected} ${hyggePlural} selected`, {\r\n        toastId: `select-${id}`,\r\n      });\r\n      onSaveSelection(unique);\r\n    };\r\n\r\n    const removeHygge = (id) => {\r\n      onRemoveHygge(id);\r\n\r\n      const newCollection = collection.filter((hg) => hg.id !== id);\r\n      onSetCollection(newCollection);\r\n    };\r\n\r\n    const goBack = () => history.push(\"/collection\");\r\n\r\n    const listWithSelected = collection\r\n      ? collection.map((map) => {\r\n          const selected = selectedIds && selectedIds.includes(map.id);\r\n          return { ...map, isSelected: selected };\r\n        })\r\n      : null;\r\n\r\n    if (collection) {\r\n      const cat = categories ? categories[category] : {};\r\n      const backingStyle = {\r\n        backgroundColor: cat ? cat.color : ALL.color,\r\n      };\r\n\r\n      render = (\r\n        <main className={css.Category}>\r\n          <Heading\r\n            headerText={match.params.category}\r\n            hasExpanded={hasExpanded}\r\n          />\r\n          <div className={css.Backing} style={backingStyle}></div>\r\n          <BackButton onClick={goBack} />\r\n          <HyggeList\r\n            list={listWithSelected}\r\n            wrap={true}\r\n            clickHygge={clickHandler}\r\n            longClickHygge={longClickHandler}\r\n            removeHygge={removeHygge}\r\n          />\r\n        </main>\r\n      );\r\n    }\r\n  }\r\n\r\n  return render;\r\n};\r\n\r\nCategory.propTypes = {\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired,\r\n  }),\r\n  match: PropTypes.shape({\r\n    params: PropTypes.shape({ category: PropTypes.string.isRequired })\r\n      .isRequired,\r\n  }).isRequired,\r\n  allHygge: PropTypes.array,\r\n  collection: PropTypes.array,\r\n  selectedIds: PropTypes.array,\r\n  categories: PropTypes.objectOf(\r\n    PropTypes.exact({\r\n      name: PropTypes.string.isRequired,\r\n      color: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  onSaveSelection: PropTypes.func.isRequired,\r\n  onSetCollection: PropTypes.func.isRequired,\r\n  onRemoveHygge: PropTypes.func.isRequired,\r\n};\r\n\r\nexport const mapStateToProps = (state) => {\r\n  return {\r\n    allHygge: state.hygge.allHygge,\r\n    collection: state.hygge.collection,\r\n    selectedIds: state.hygge.selectedIds,\r\n    categories: state.hygge.categories,\r\n  };\r\n};\r\n\r\nexport const mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSaveSelection: (selection) => dispatch(actions.saveSelection(selection)),\r\n    onSetCollection: (newCollection) =>\r\n      dispatch(actions.setCollection(newCollection)),\r\n    onRemoveHygge: (id) => dispatch(actions.removeHygge(id)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Category);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Formik, Field, Form } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport css from \"./AddCategory.module.css\";\r\nimport * as actions from \"../../store/actions/index\";\r\nimport BackButton from \"../../components/BackButton/BackButton\";\r\n\r\nexport const AddCategory = (props) => {\r\n  const { history, categories, onSaveCategories } = props;\r\n\r\n  const initialValues = {\r\n    name: \"\",\r\n    color: \"#ffffff\",\r\n  };\r\n  const validationSchema = yup.object().shape({\r\n    name: yup.string().required(\"Please enter a valid collection name\"),\r\n  });\r\n  const onSubmit = (values) => {\r\n    const newCats = { ...categories, [values.name.toLowerCase()]: values };\r\n    onSaveCategories(newCats);\r\n\r\n    history.push(\"/collection\");\r\n  };\r\n\r\n  const goBack = () => history.push(\"/collection\");\r\n\r\n  return (\r\n    <section className={css.Container}>\r\n      <h1 className={css.Heading}>Add Collection</h1>\r\n      <BackButton onClick={goBack} />\r\n      <Formik {...{ initialValues, validationSchema, onSubmit }}>\r\n        {({ errors, touched }) => {\r\n          const errLength = Object.keys(errors).length;\r\n          const isDisabled = errLength > 0;\r\n\r\n          return (\r\n            <Form className={css.Form}>\r\n              <div className={css.InputContainer}>\r\n                <label className={css.Label} htmlFor=\"name\">\r\n                  Collection Name\r\n                </label>\r\n                <Field\r\n                  className={css.Input}\r\n                  type=\"input\"\r\n                  id=\"name\"\r\n                  name=\"name\"\r\n                />\r\n                {errors.name && touched.name ? (\r\n                  <div className={css.ValidationError}>{errors.name}</div>\r\n                ) : null}\r\n              </div>\r\n              <div className={css.InputContainer}>\r\n                <label className={css.Label} htmlFor=\"color\">\r\n                  Colour\r\n                </label>\r\n                <Field\r\n                  className={css.Input}\r\n                  type=\"color\"\r\n                  id=\"color\"\r\n                  name=\"color\"\r\n                />\r\n                {errors.color && touched.color ? (\r\n                  <div className={css.ValidationError}>{errors.color}</div>\r\n                ) : null}\r\n              </div>\r\n              <div className={css.Controls}>\r\n                <button\r\n                  className={css.Button}\r\n                  type=\"submit\"\r\n                  disabled={isDisabled}\r\n                >\r\n                  Add Collection\r\n                </button>\r\n              </div>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </section>\r\n  );\r\n};\r\n\r\nAddCategory.propTypes = {\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  categories: PropTypes.objectOf(\r\n    PropTypes.exact({\r\n      name: PropTypes.string.isRequired,\r\n      color: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  onSaveCategories: PropTypes.func.isRequired,\r\n};\r\n\r\nexport const mapStateToProps = (state) => {\r\n  return {\r\n    categories: state.hygge.categories,\r\n  };\r\n};\r\n\r\nexport const mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSaveCategories: (newCategories) =>\r\n      dispatch(actions.saveCategories(newCategories)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddCategory);\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Formik, Field, Form } from \"formik\";\r\nimport * as yup from \"yup\";\r\n\r\nimport css from \"./AddImage.module.css\";\r\nimport * as actions from \"../../store/actions/index\";\r\nimport BackButton from \"../../components/BackButton/BackButton\";\r\n\r\nexport const AddImage = (props) => {\r\n  const { history, categories, onSaveNewHygge } = props;\r\n  const imgRef = useRef();\r\n  const [canUseCamera, setCanUseCamera] = useState();\r\n\r\n  useEffect(() => {\r\n    const getCameras = async () => {\r\n      try {\r\n        const cameras = await navigator.mediaDevices.getUserMedia({\r\n          video: true,\r\n        });\r\n        if (cameras) {\r\n          setCanUseCamera(true);\r\n        }\r\n      } catch (error) {\r\n        setCanUseCamera(false);\r\n      }\r\n    };\r\n    getCameras();\r\n  }, []);\r\n\r\n  if (!categories) {\r\n    return null;\r\n  }\r\n\r\n  const getPicture = (takePhoto) => {\r\n    const imgInput = document.getElementById(\"image\");\r\n    if (canUseCamera && takePhoto) {\r\n      imgInput.capture = true;\r\n    } else {\r\n      imgInput.removeAttribute(\"capture\");\r\n    }\r\n\r\n    if (imgInput) {\r\n      imgInput.click();\r\n    }\r\n  };\r\n\r\n  const catKeys = Object.keys(categories);\r\n  const catArray = catKeys.map((cat) => categories[cat].name);\r\n  const initialValues = {\r\n    image: \"\",\r\n    attribution: \"\",\r\n    category: catArray[0],\r\n  };\r\n  const validationSchema = yup.object().shape({\r\n    image: yup.mixed().required(\"Please upload a valid image\"),\r\n    attribution: yup.string(),\r\n    category: yup.string().required(\"Please select a valid category\"),\r\n  });\r\n  const onSubmit = (values) => {\r\n    const imgField = document.getElementById(\"image\");\r\n    const file = imgField.files[0];\r\n    const reader = new FileReader();\r\n\r\n    if (file) {\r\n      reader.readAsDataURL(file);\r\n    }\r\n\r\n    reader.addEventListener(\r\n      \"load\",\r\n      () => {\r\n        imgRef.current.src = reader.result;\r\n        onSaveNewHygge(reader.result, values.attribution, values.category);\r\n        history.push(\"/collection\");\r\n      },\r\n      false\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className={css.Container}>\r\n      <h1 className={css.Heading}>Add Hygge Image</h1>\r\n      <BackButton onClick={history.goBack} />\r\n      <Formik {...{ initialValues, validationSchema, onSubmit }}>\r\n        {({ errors, touched }) => {\r\n          const errLength = Object.keys(errors).length;\r\n          const isDisabled = errLength > 0;\r\n\r\n          return (\r\n            <Form className={css.Form}>\r\n              <div className={css.InputContainer}>\r\n                <label className={css.Label} htmlFor=\"image\">\r\n                  Hygge image\r\n                </label>\r\n                <Field\r\n                  className={css.Input}\r\n                  style={{ display: \"none\" }}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  id=\"image\"\r\n                  name=\"image\"\r\n                />\r\n                {canUseCamera && (\r\n                  <button\r\n                    className={css.Button}\r\n                    type=\"button\"\r\n                    onClick={() => getPicture(true)}\r\n                  >\r\n                    Take Photo\r\n                  </button>\r\n                )}\r\n                <button\r\n                  className={css.Button}\r\n                  type=\"button\"\r\n                  onClick={() => getPicture(false)}\r\n                >\r\n                  Select Picture\r\n                </button>\r\n                {errors.name && touched.name ? (\r\n                  <div className={css.ValidationError}>{errors.image}</div>\r\n                ) : null}\r\n                <img\r\n                  ref={imgRef}\r\n                  className={css.UploadedImage}\r\n                  alt=\"Uploaded file\"\r\n                />\r\n              </div>\r\n              <div className={css.InputContainer}>\r\n                <label className={css.Label} htmlFor=\"attribution\">\r\n                  Image attribution\r\n                </label>\r\n                <Field\r\n                  className={css.Input}\r\n                  type=\"text\"\r\n                  id=\"attribution\"\r\n                  name=\"attribution\"\r\n                />\r\n                {errors.color && touched.color ? (\r\n                  <div className={css.ValidationError}>\r\n                    {errors.attribution}\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n              <div className={css.InputContainer}>\r\n                <label className={css.Label} htmlFor=\"category\">\r\n                  Category\r\n                </label>\r\n                <Field\r\n                  className={css.Input}\r\n                  as=\"select\"\r\n                  id=\"category\"\r\n                  name=\"category\"\r\n                >\r\n                  {catArray.map((cat) => (\r\n                    <option key={cat} value={cat}>\r\n                      {cat}\r\n                    </option>\r\n                  ))}\r\n                </Field>\r\n                {errors.color && touched.color ? (\r\n                  <div className={css.ValidationError}>{errors.category}</div>\r\n                ) : null}\r\n              </div>\r\n              <div className={css.Controls}>\r\n                <button\r\n                  className={css.Button}\r\n                  type=\"submit\"\r\n                  disabled={isDisabled}\r\n                >\r\n                  Add Collection\r\n                </button>\r\n              </div>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </section>\r\n  );\r\n};\r\n\r\nAddImage.propTypes = {\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  categories: PropTypes.objectOf(\r\n    PropTypes.exact({\r\n      name: PropTypes.string.isRequired,\r\n      color: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  onSaveNewHygge: PropTypes.func.isRequired,\r\n};\r\n\r\nexport const mapStateToProps = (state) => {\r\n  return {\r\n    categories: state.hygge.categories,\r\n  };\r\n};\r\n\r\nexport const mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSaveNewHygge: (image, attribution, category) =>\r\n      dispatch(actions.saveNewHygge(image, attribution, category)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddImage);\r\n","import React from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\n\nimport css from \"./App.module.css\";\nimport { useInstaller, useLoadData } from \"./hooks/index\";\nimport Menu from \"./containers/Menu/Menu\";\nimport logo from \"./assets/snowflake.png\";\nimport Hygge from \"./containers/Hygge/Hygge\";\nimport Collection from \"./containers/Collection/Collection\";\nimport Category from \"./containers/Category/Category\";\nimport AddCategory from \"./containers/AddCategory/AddCategory\";\nimport AddImage from \"./containers/AddImage/AddImage\";\n\nconst App = () => {\n  const [canInstall, installHandler] = useInstaller();\n  useLoadData();\n\n  const routes = (\n    <Switch>\n      <Route path=\"/collection/add\" exact component={AddCategory} />\n      <Route path=\"/collection/:category\" component={Category} />\n      <Route path=\"/collection\" exact component={Collection} />\n      <Route path=\"/add\" exact component={AddImage} />\n      <Route path=\"/\" exact component={Hygge} />\n      <Redirect to=\"/\" />\n    </Switch>\n  );\n\n  return (\n    <>\n      <Menu canInstall={canInstall} install={installHandler} />\n      <img className={css.Logo} src={logo} alt=\"Logo\" />\n      {routes}\n      <ToastContainer\n        className={css.Toastit}\n        position=\"bottom-center\"\n        autoClose={5000}\n        hideProgressBar\n        newestOnTop\n        closeOnClick\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </>\n  );\n};\n\nexport default App;\n","import { useState, useEffect } from \"react\";\r\n\r\nexport const useInstaller = () => {\r\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"beforeinstallprompt\", getInstallPrompt);\r\n    return () => {\r\n      window.removeEventListener(\"beforeinstallprompt\", getInstallPrompt);\r\n    };\r\n  }, []);\r\n\r\n  const getInstallPrompt = (event) => {\r\n    event.preventDefault();\r\n    setDeferredPrompt(event);\r\n    return false;\r\n  };\r\n\r\n  const promptForInstallHandler = () => {\r\n    if (deferredPrompt) {\r\n      deferredPrompt.prompt();\r\n      setDeferredPrompt(null);\r\n    }\r\n  };\r\n\r\n  return [deferredPrompt !== null, promptForInstallHandler];\r\n};\r\n","import { toast } from \"react-toastify\";\r\n\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://cra.link/PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              toast.dark(\r\n                \"An update is available and will be used after the next page reload.\",\r\n                { toastId: \"sw-update\" }\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              toast.dark(\"Hygge is ready for offline use.\", {\r\n                toastId: \"sw-offline\",\r\n              });\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. Hygge is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../../shared/utilities\";\r\n\r\nconst initialState = {\r\n  routesHelped: {},\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SET_NEEDS_HELP:\r\n      return updateObject(state, { routesHelped: action.routesHelped });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../../shared/utilities\";\r\n\r\nconst initialState = {\r\n  categories: null,\r\n  allHygge: null,\r\n  collection: null,\r\n  selectedIds: null,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SET_ALL_HYGGE:\r\n      return updateObject(state, { allHygge: action.allHygge });\r\n    case actionTypes.SET_COLLECTION:\r\n      return updateObject(state, { collection: action.collection });\r\n    case actionTypes.SET_SELECTED:\r\n      return updateObject(state, { selectedIds: action.selectedIds });\r\n    case actionTypes.SET_CATEGORIES:\r\n      return updateObject(state, { categories: action.categories });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport appReducer from \"./reducers/app\";\r\nimport hyggeReducer from \"./reducers/hygge\";\r\n\r\nconst composeEnhancers =\r\n  (process.env.NODE_ENV === \"development\"\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    : null) || compose;\r\n\r\nconst rootReducer = combineReducers({\r\n  app: appReducer,\r\n  hygge: hyggeReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nserviceWorkerRegistration.register();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"Menu_Menu__3BbAQ\",\"Open\":\"Menu_Open__3BL1e\",\"MenuItem\":\"Menu_MenuItem__20Hmz\",\"Inactive\":\"Menu_Inactive__JbVuI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HyggeImage\":\"HyggeImage_HyggeImage__3IVgc\",\"Remove\":\"HyggeImage_Remove__rsNkx\",\"Small\":\"HyggeImage_Small__3ec51\",\"Circle\":\"HyggeImage_Circle__3xqpq\",\"Expanded\":\"HyggeImage_Expanded__3v_xf\",\"Shrunk\":\"HyggeImage_Shrunk__23BbW\",\"Selected\":\"HyggeImage_Selected__18fLV\",\"Attribution\":\"HyggeImage_Attribution__1fERS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Circle\":\"Category_Circle__bwg8C\",\"SubHeading\":\"Category_SubHeading__1ohBX\",\"Value\":\"Category_Value__1z-Zb\",\"Big\":\"Category_Big__afxnG\",\"Remove\":\"Category_Remove__3cLKP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"AddImage_Container__2AP8c\",\"Form\":\"AddImage_Form__2OPaq\",\"Heading\":\"AddImage_Heading__3Suwb\",\"Controls\":\"AddImage_Controls__1ae-4\",\"InputContainer\":\"AddImage_InputContainer__2OK3q\",\"Label\":\"AddImage_Label__1p_xv\",\"Input\":\"AddImage_Input__3qJUr\",\"ValidationError\":\"AddImage_ValidationError__1iNjI\",\"UploadedImage\":\"AddImage_UploadedImage__238L3\",\"Button\":\"AddImage_Button__13tjK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SuperHeader\":\"Heading_SuperHeader__2sQiR\",\"Heading\":\"Heading_Heading__3lR0m\",\"Expanded\":\"Heading_Expanded__SNKwU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HyggeList\":\"HyggeList_HyggeList__3Y1uH\",\"Wrap\":\"HyggeList_Wrap__Gc9Au\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__2uUkA\",\"Content\":\"Modal_Content__lH0C9\",\"Close\":\"Modal_Close__20tpT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"App_Logo__18yHE\",\"Toastit\":\"App_Toastit__36YvF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Category\":\"Category_Category__CVvHh\",\"Backing\":\"Category_Backing__1HkkO\",\"arrival\":\"Category_arrival__3bu6A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Collection\":\"Collection_Collection__1aLpU\",\"Heading\":\"Collection_Heading__150P6\",\"Categories\":\"Collection_Categories__98J8f\",\"Column\":\"Collection_Column__1UKq2\",\"Row\":\"Collection_Row__12Ble\",\"Cell\":\"Collection_Cell__10OnP\",\"Circle\":\"Collection_Circle__6a-B8\",\"Filled\":\"Collection_Filled__sYLhA\",\"Hand\":\"Collection_Hand__2_VUh\",\"Bold\":\"Collection_Bold__3yNK8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__2VIvX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Hygge\":\"Hygge_Hygge__2JLuE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Collections\":\"CategoryList_Collections__2O7Gg\"};"],"sourceRoot":""}