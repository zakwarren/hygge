(this.webpackJsonphygge=this.webpackJsonphygge||[]).push([[0],{10:function(e,t,n){e.exports={Collection:"Collection_Collection__1aLpU",Heading:"Collection_Heading__150P6",Categories:"Collection_Categories__98J8f",Column:"Collection_Column__1UKq2",Row:"Collection_Row__12Ble",Cell:"Collection_Cell__10OnP",Circle:"Collection_Circle__6a-B8",Filled:"Collection_Filled__sYLhA",Hand:"Collection_Hand__2_VUh",Bold:"Collection_Bold__3yNK8"}},100:function(e,t,n){e.exports={BackButton:"BackButton_BackButton__bgzbh"}},116:function(e,t,n){},13:function(e,t,n){e.exports={Container:"AddCategory_Container__32VHG",Form:"AddCategory_Form__-wxGw",Heading:"AddCategory_Heading__3v7Ga",Controls:"AddCategory_Controls__241mK",InputContainer:"AddCategory_InputContainer__3_kun",Label:"AddCategory_Label__2Dhth",Input:"AddCategory_Input__2MIeA",ValidationError:"AddCategory_ValidationError__rAdz6",Button:"AddCategory_Button__309AH"}},218:function(e,t,n){"use strict";n.r(t);var a,c=n(1),o=n(0),r=n.n(o),i=n(19),l=n.n(i),s=n(29),u=n(11),d=(n(116),n(7)),g=n(4),j=n(42),b=(n(117),n(95)),m=n.n(b),p=n(23),h=n(3),f="SET_ALL_HYGGE",O="SET_COLLECTION",y="SET_SELECTED",v="SET_CATEGORIES",_="SET_NEEDS_HELP",x="isHelped",C=function(e){return{type:_,routesHelped:e}},k=n(12),H=n(9),N=n.n(H),I=n(20),S="Random",w={name:"All",color:"#bd8e62"},E={name:"+",color:"#deddd9"},A={surreal:{name:"Surreal",color:"#48d0e2"},warmth:{name:"Warmth",color:"#db5b5b"},seasons:{name:"Seasons",color:"#f2b61a"},aquatic:{name:"Aquatic",color:"#6ca7ec"},creatures:{name:"Creatures",color:"#7ab778"}},B=n.p+"static/media/sincerely-media-9nhxEa3PK30-unsplash.8274d1f2.jpg",L=n.p+"static/media/annie-spratt-OQj0chxpZOI-unsplash.95aef95b.jpg",M=n.p+"static/media/clay-banks-z_DkoUqgx6M-unsplash.76cd620b.jpg",U=n.p+"static/media/jyrki-sorjonen-WnWwzDxvA2M-unsplash.f84e3c7c.jpg",P=n.p+"static/media/olivier-guillard-FKJgBUDoVC0-unsplash.4b219741.jpg",T=n.p+"static/media/stephane-juban-DI8Bf6K1134-unsplash.0f33437b.jpg",F=n.p+"static/media/aditya-vyas-PzhmEp_aDU4-unsplash.612f23e0.jpg",R=n.p+"static/media/john-noonan-E-9CFTftQh4-unsplash.498b4ca3.jpg",V=n.p+"static/media/emily-toycen-jd_YFWRkOqQ-unsplash.94656feb.jpg",D=[{id:1,image:B,attribution:"Photo by Sincerely Media on Unsplash",category:A.warmth.name},{id:2,image:L,attribution:"Photo by Annie Spratt on Unsplash",category:A.warmth.name},{id:3,image:M,attribution:"Photo by Clay Banks on Unsplash",category:A.surreal.name},{id:4,image:U,attribution:"Photo by Jyrki Sorjonen on Unsplash",category:A.seasons.name},{id:5,image:P,attribution:"Photo by Olivier Guillard on Unsplash",category:A.seasons.name},{id:6,image:T,attribution:"Photo by St\xe9phane Juban on Unsplash",category:A.warmth.name},{id:7,image:F,attribution:"Photo by Aditya Vyas on Unsplash",category:A.seasons.name},{id:8,image:R,attribution:"Photo by John Noonan on Unsplash",category:A.seasons.name},{id:9,image:V,attribution:"Photo by Emily Toycen on Unsplash",category:A.seasons.name}],W=function(e,t,n){var a;t===S?a=e.sort((function(){return.5-Math.random()})).slice(0,4):a=t&&t!==w.name?e.filter((function(e){return e.category===t})):n&&n.length>0?e.filter((function(e){return n.includes(e.id)})):e;return a.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{display:!0,isExpanded:!1})}))},J=new(n(96).a)("hygge"),q="categories",G="images";J.version(1).stores((a={},Object(p.a)(a,q,"id, category, name, color"),Object(p.a)(a,G,"id, image, attribution, category"),a));var K=J,z="myHygge",Q=function(e){return{type:f,allHygge:e}},X=function(){var e=Object(I.a)(N.a.mark((function e(){var t,n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.table(G).toArray();case 2:return t=e.sent,n=t.length>1?t:D,a=W(n),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){return{type:O,collection:e}},Z=function(e){return{type:y,selectedIds:e}},$=function(){return function(){var e=Object(I.a)(N.a.mark((function e(t,n){var a,c,o,r,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n().hygge.allHygge){e.next=5;break}return e.next=4,X();case 4:a=e.sent;case 5:c=localStorage.getItem(z),(o=c?JSON.parse(c):null)?(t(Z(o)),r=W(a,null,o),t(Y(r))):(i=W(a,S),t(Y(i)));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ee=function(e){return{type:v,categories:e}},te=function(e){return function(){var t=Object(I.a)(N.a.mark((function t(n){var a,c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object.keys(e),c=a.map((function(t,n){return Object(h.a)({id:n,category:t},e[t])})),t.next=4,K.table(q).clear();case 4:return t.next=6,K.table(q).bulkAdd(c);case 6:n(ee(e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ne=function(){var e=Object(u.c)();Object(o.useEffect)((function(){e(function(){var e=localStorage.getItem(x),t=e?JSON.parse(e):{};return{type:_,routesHelped:t}}()),e(function(){var e=Object(I.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:n=e.sent,t(Q(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(I.a)(N.a.mark((function e(t){var n,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.table(q).toArray();case 2:n=e.sent,a={},n.forEach((function(e){a[e.category]={name:e.name,color:e.color}})),c=n.length>0?a:A,t(ee(c));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e($())}),[e])},ae=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},ce=n(26),oe=n.n(ce),re=n(97),ie=n.n(re),le=function(e){return e.show?Object(c.jsx)("div",{className:ie.a.Backdrop,onClick:e.clicked}):null},se=function(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),a=n[0],r=n[1],i=function(){return r((function(e){return!e}))},l=[oe.a.Menu],u=Object(c.jsx)("p",{children:"..."});return a&&(l.push(oe.a.Open),u=Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:oe.a.MenuItem,children:Object(c.jsx)(s.b,{to:"/",exact:!0,children:"My hygge board"})}),Object(c.jsx)("p",{className:oe.a.MenuItem,children:Object(c.jsx)(s.b,{to:"/collection",children:"My collection"})}),e.canInstall?Object(c.jsx)("p",{className:oe.a.MenuItem,onClick:e.install,children:"Install"}):null,Object(c.jsx)("p",{className:oe.a.MenuItem,children:Object(c.jsx)(s.b,{to:"/add",children:"Upload file"})}),Object(c.jsx)("p",{className:[oe.a.MenuItem,oe.a.Inactive].join(" "),children:"Share board"})]})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(le,{show:a,clicked:i}),Object(c.jsx)("div",{className:l.join(" "),onClick:i,children:u})]})},ue=n.p+"static/media/snowflake.e574fcc0.png",de=n(98),ge=n.n(de),je=function(e,t){return Object(h.a)(Object(h.a)({},e),t)},be=function(e,t){return e.map((function(e){return je(e,{display:e.id===t?e.display:!e.display,isExpanded:e.id===t?!e.isExpanded:e.isExpanded})}))},me=n(56),pe=n.n(me),he=n(107),fe=n(27),Oe=n.n(fe),ye=function(e){return e.hygge.selectedIds?e.hygge.selectedIds.length:0},ve=Object(u.b)((function(e){return{totalSelected:ye(e)}}))((function(e){var t=e.id,n=e.image,a=e.attribution,r=e.display,i=e.isExpanded,l=e.isSelected,s=e.isSmall,u=e.clicked,g=e.longClicked,j=e.removeHygge,b=e.totalSelected,m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.shouldPreventDefault,c=void 0===a||a,r=n.delay,i=void 0===r?300:r,l=Object(o.useState)(!1),s=Object(d.a)(l,2),u=s[0],g=s[1],j=Object(o.useRef)(),b=Object(o.useRef)(),m=Object(o.useCallback)((function(t){c&&t.target&&(t.target.addEventListener("touchend",ae,{passive:!1}),b.current=t.target),j.current=setTimeout((function(){e(t),g(!0)}),i)}),[e,i,c]),p=Object(o.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];j.current&&clearTimeout(j.current),n&&!u&&t(),g(!1),c&&b.current&&b.current.removeEventListener("touchend",ae)}),[c,t,u]);return{onMouseDown:function(e){return m(e)},onTouchStart:function(e){return m(e)},onMouseUp:function(e){return p(e)},onMouseLeave:function(e){return p(e,!1)},onTouchEnd:function(e){return p(e)}}}(g,u,{shouldPreventDefault:!0,delay:500}),p=g?m:{onClick:u},f=[Oe.a.HyggeImage];i?f.push(Oe.a.Expanded):r||f.push(Oe.a.Shrunk),s&&!i&&r&&f.push(Oe.a.Small);var O=[Oe.a.Circle],y={};if(l){O.push(Oe.a.Selected);var v=1===b?"image":"images";y["data-tip"]="".concat(b," ").concat(v," selected"),y["data-for"]="".concat(t,"Tip")}return Object(c.jsxs)("div",Object(h.a)(Object(h.a)({className:f.join(" ")},y),{},{children:[Object(c.jsx)("img",Object(h.a)({className:O.join(" "),src:n,alt:a},p)),i?Object(c.jsx)("span",{className:Oe.a.Attribution,children:a}):null,i||!j?null:Object(c.jsx)("span",{className:Oe.a.Remove,onClick:function(e){e.stopPropagation(),j(t)},children:"X"}),l&&Object(c.jsx)(he.a,{id:"".concat(t,"Tip"),place:"top",type:"dark",effect:"solid",event:"click",eventOff:"mouseleave"})]}))})),_e=function(e){var t=e.list,n=e.wrap,a=e.clickHygge,o=e.longClickHygge,r=e.removeHygge,i=n?"".concat(pe.a.HyggeList," ").concat(pe.a.Wrap):pe.a.HyggeList;return Object(c.jsx)("div",{className:i,children:t.map((function(e){return Object(c.jsx)(ve,Object(h.a)(Object(h.a)({isSmall:n},e),{},{clicked:function(){return a(e.id)},longClicked:o?function(){return o(e.id)}:null,removeHygge:r}),e.id)}))})},xe=n(43),Ce=n.n(xe),ke=function(e){var t=e.headerText,n=e.hasExpanded,a=[Ce.a.Heading],o=[Ce.a.SuperHeader];return n&&(a.push(Ce.a.Expanded),o.push(Ce.a.Expanded)),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h5",{className:o.join(" "),children:"my"}),Object(c.jsx)("h1",{className:a.join(" "),children:t})]})},He=Object(u.b)((function(e){return{collection:e.hygge.collection}}),(function(e){return{onGetSelection:function(){return e($())},onSetCollection:function(t){return e(Y(t))}}}))((function(e){var t=e.collection,n=e.onGetSelection,a=e.onSetCollection,r=Object(o.useState)(!1),i=Object(d.a)(r,2),l=i[0],s=i[1];Object(o.useEffect)((function(){n()}),[n]);return Object(c.jsxs)("main",{className:ge.a.Hygge,children:[Object(c.jsx)(ke,{headerText:"Hygge Board",hasExpanded:l}),t&&Object(c.jsx)(_e,{list:t,wrap:!1,clickHygge:function(e){var n=be(t,e);a(n);var c=n.some((function(e){return e.isExpanded}));s(c)}})]})})),Ne=n(10),Ie=n.n(Ne),Se=n(99),we=n.n(Se),Ee=n(37),Ae=n.n(Ee),Be=function(e){var t=e.name,n=e.color,a=e.collection,o=e.onClick,r=e.removeCategory;return Object(c.jsxs)("div",{className:Ae.a.Circle,style:{backgroundColor:n,opacity:t===E.name?1:.25},onClick:o,children:[Object(c.jsx)("h2",{className:"".concat(Ae.a.SubHeading," ").concat(t===E.name?Ae.a.Big:""),children:t}),t===E.name?null:Object(c.jsxs)("div",{className:Ae.a.Value,children:["x ",a.length]}),[E.name,w.name].includes(t)?null:Object(c.jsx)("span",{className:Ae.a.Remove,onClick:function(e){e.stopPropagation(),r(t)},children:"X"})]})},Le=function(e){var t=e.list,n=e.removeCategory;return Object(c.jsx)("section",{className:we.a.Collections,children:t.map((function(e){return Object(c.jsx)(Be,Object(h.a)(Object(h.a)({},e),{},{removeCategory:n}),e.name)}))})},Me=n(57),Ue=n.n(Me),Pe=function(e){var t=e.closeFn,n=e.children;return Object(c.jsx)("div",{className:Ue.a.Modal,onClick:t,children:Object(c.jsxs)("div",{className:Ue.a.Content,children:[Object(c.jsx)("span",{className:Ue.a.Close,onClick:t,children:"\xd7"}),Object(c.jsx)("section",{children:n})]})})},Te=n.p+"static/media/hand.991e5633.svg",Fe=Object(u.b)((function(e){var t;return{needsHelp:!(null===(t=e.app.routesHelped)||void 0===t?void 0:t.collection),allHygge:e.hygge.allHygge,categories:e.hygge.categories}}),(function(e){return{onHadHelp:function(){return e((t="collection",function(e,n){var a=n().app.routesHelped,c=Object(h.a)(Object(h.a)({},a),{},Object(p.a)({},t,!0));localStorage.setItem(x,JSON.stringify(c)),e(C(c))}));var t},onSetCollection:function(t){return e(Y(t))},onSaveCategories:function(t){return e(te(t))}}}))((function(e){var t=e.history,n=e.needsHelp,a=e.allHygge,o=e.categories,r=e.onHadHelp,i=e.onSetCollection,l=e.onSaveCategories;if(!o||!a)return null;var s=n?Object(c.jsxs)("div",{className:Ie.a.Column,children:[Object(c.jsxs)("div",{className:Ie.a.Row,children:[Object(c.jsxs)("div",{className:Ie.a.Cell,children:[Object(c.jsx)("div",{className:Ie.a.Circle}),Object(c.jsx)("img",{className:Ie.a.Hand,src:Te,alt:"hand"})]}),Object(c.jsx)("div",{className:Ie.a.Cell,children:Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:Ie.a.Bold,children:"Tap"})," to zoom"]})})]}),Object(c.jsxs)("div",{className:Ie.a.Row,children:[Object(c.jsxs)("div",{className:Ie.a.Cell,children:[Object(c.jsx)("div",{className:"".concat(Ie.a.Circle," ").concat(Ie.a.Filled)}),Object(c.jsx)("img",{className:Ie.a.Hand,src:Te,alt:"hand"})]}),Object(c.jsxs)("div",{className:Ie.a.Cell,children:[Object(c.jsx)("p",{className:Ie.a.Bold,children:"Tap and hold"}),Object(c.jsx)("p",{children:"to add to board"})]})]})]}):null,u=function(e){var n=W(a,e);i(n),t.push("/collection/".concat(e))},d=Object.keys(o).map((function(e){var t=o[e],n=a.filter((function(e){return e.category===t.name}));return Object(h.a)(Object(h.a)({},t),{},{collection:n,onClick:function(){return u(t.name)}})}));return d.unshift({name:w.name,color:w.color,collection:a,onClick:function(){return u(w.name)}}),d.push({name:E.name,color:E.color,collection:[],onClick:function(){return t.push("/collection/add")}}),Object(c.jsxs)("main",{className:Ie.a.Collection,children:[Object(c.jsx)(ke,{headerText:"Collection",hasExpanded:!1}),Object(c.jsx)("section",{className:Ie.a.Categories,children:Object(c.jsx)(Le,{list:d,removeCategory:function(e){var t=Object(h.a)({},o);delete t[e.toLowerCase()],l(t)}})}),n&&Object(c.jsx)(Pe,{closeFn:r,children:s})]})})),Re=n(69),Ve=n.n(Re),De=n(100),We=n.n(De),Je=function(e){var t=e.onClick;return Object(c.jsx)("span",{className:We.a.BackButton,onClick:t,children:"<"})},qe=Object(u.b)((function(e){return{collection:e.hygge.collection,selectedIds:e.hygge.selectedIds,categories:e.hygge.categories}}),(function(e){return{onSaveSelection:function(t){return e((n=t,function(e){if(0===n.length)localStorage.removeItem(z);else{var t=JSON.stringify(n);localStorage.setItem(z,t)}e(Z(n))}));var n},onSetCollection:function(t){return e(Y(t))},onRemoveHygge:function(t){return e(function(e){return function(){var t=Object(I.a)(N.a.mark((function t(n,a){var c,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().hygge.allHygge,o=c.filter((function(t){return t.id!==e})),t.next=4,K.table(G).clear();case 4:return t.next=6,K.table(G).bulkAdd(o);case 6:n(Q(o));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.history,n=e.match,a=e.collection,r=e.selectedIds,i=e.categories,l=e.onSaveSelection,s=e.onSetCollection,u=e.onRemoveHygge,j=Object(o.useState)(!1),b=Object(d.a)(j,2),m=b[0],p=b[1],f=a?a.map((function(e){var t=r&&r.includes(e.id);return Object(h.a)(Object(h.a)({},e),{},{isSelected:t})})):null,O=Object(c.jsx)(g.a,{to:"/collection"});if(a){var y=i[n.params.category.toLowerCase()],v={backgroundColor:y?y.color:w.color};O=Object(c.jsxs)("main",{className:Ve.a.Category,children:[Object(c.jsx)(ke,{headerText:n.params.category,hasExpanded:m}),Object(c.jsx)("div",{className:Ve.a.Backing,style:v}),Object(c.jsx)(Je,{onClick:function(){return t.push("/collection")}}),Object(c.jsx)(_e,{list:f,wrap:!0,clickHygge:function(e){var t=be(a,e);s(t);var n=t.some((function(e){return e.isExpanded}));p(n)},longClickHygge:function(e){var t=[];t=r&&r.includes(e)?r.filter((function(t){return t!==e})):r?[].concat(Object(k.a)(r),[e]):[e];var n=Object(k.a)(new Set(t));l(n)},removeHygge:function(e){u(e);var t=a.filter((function(t){return t.id!==e}));s(t)}})]})}return O})),Ge=n(18),Ke=n(32),ze=n(13),Qe=n.n(ze),Xe=Object(u.b)((function(e){return{categories:e.hygge.categories}}),(function(e){return{onSaveCategories:function(t){return e(te(t))}}}))((function(e){var t=e.history,n=e.categories,a=e.onSaveCategories,o=Ke.b().shape({name:Ke.c().required("Please enter a valid collection name")});return Object(c.jsxs)("section",{className:Qe.a.Container,children:[Object(c.jsx)("h1",{className:Qe.a.Heading,children:"Add Collection"}),Object(c.jsx)(Je,{onClick:function(){return t.push("/collection")}}),Object(c.jsx)(Ge.c,Object(h.a)(Object(h.a)({},{initialValues:{name:"",color:"#ffffff"},validationSchema:o,onSubmit:function(e){var c=Object(h.a)(Object(h.a)({},n),{},Object(p.a)({},e.name.toLowerCase(),e));a(c),t.push("/collection")}}),{},{children:function(e){var t=e.errors,n=e.touched,a=Object.keys(t).length>0;return Object(c.jsxs)(Ge.b,{className:Qe.a.Form,children:[Object(c.jsxs)("div",{className:Qe.a.InputContainer,children:[Object(c.jsx)("label",{className:Qe.a.Label,htmlFor:"name",children:"Collection Name"}),Object(c.jsx)(Ge.a,{className:Qe.a.Input,type:"input",id:"name",name:"name"}),t.name&&n.name?Object(c.jsx)("div",{className:Qe.a.ValidationError,children:t.name}):null]}),Object(c.jsxs)("div",{className:Qe.a.InputContainer,children:[Object(c.jsx)("label",{className:Qe.a.Label,htmlFor:"color",children:"Colour"}),Object(c.jsx)(Ge.a,{className:Qe.a.Input,type:"color",id:"color",name:"color"}),t.color&&n.color?Object(c.jsx)("div",{className:Qe.a.ValidationError,children:t.color}):null]}),Object(c.jsx)("div",{className:Qe.a.Controls,children:Object(c.jsx)("button",{className:Qe.a.Button,type:"submit",disabled:a,children:"Add Collection"})})]})}}))]})})),Ye=n(5),Ze=n.n(Ye),$e=Object(u.b)((function(e){return{categories:e.hygge.categories}}),(function(e){return{onSaveNewHygge:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(I.a)(N.a.mark((function a(c,o){var r,i,l,s;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=o().hygge.allHygge,i=r.map((function(e){return e.id})),l=i.length>0?Math.max.apply(null,i)+1:1,s=[].concat(Object(k.a)(r),[{id:l,image:e,attribution:t,category:n}]),a.next=6,K.table(G).clear();case 6:return a.next=8,K.table(G).bulkAdd(s);case 8:c(Q(s));case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(t,n,a))}}}))((function(e){var t=e.history,n=e.categories,a=e.onSaveNewHygge,r=Object(o.useRef)(),i=Object(o.useState)(),l=Object(d.a)(i,2),s=l[0],u=l[1];if(Object(o.useEffect)((function(){(function(){var e=Object(I.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:e.sent&&u(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),!n)return null;var g=function(e){var t=document.getElementById("image");s&&e?t.capture=!0:t.removeAttribute("capture"),t&&t.click()},j=Object.keys(n).map((function(e){return n[e].name})),b={image:"",attribution:"",category:j[0]},m=Ke.b().shape({image:Ke.a().required("Please upload a valid image"),attribution:Ke.c(),category:Ke.c().required("Please select a valid category")});return Object(c.jsxs)("section",{className:Ze.a.Container,children:[Object(c.jsx)("h1",{className:Ze.a.Heading,children:"Add Hygge Image"}),Object(c.jsx)(Je,{onClick:t.goBack}),Object(c.jsx)(Ge.c,Object(h.a)(Object(h.a)({},{initialValues:b,validationSchema:m,onSubmit:function(e){var n=document.getElementById("image").files[0],c=new FileReader;n&&c.readAsDataURL(n),c.addEventListener("load",(function(){r.current.src=c.result,a(c.result,e.attribution,e.category),t.push("/collection")}),!1)}}),{},{children:function(e){var t=e.errors,n=e.touched,a=Object.keys(t).length>0;return Object(c.jsxs)(Ge.b,{className:Ze.a.Form,children:[Object(c.jsxs)("div",{className:Ze.a.InputContainer,children:[Object(c.jsx)("label",{className:Ze.a.Label,htmlFor:"image",children:"Hygge image"}),Object(c.jsx)(Ge.a,{className:Ze.a.Input,style:{display:"none"},type:"file",accept:"image/*",id:"image",name:"image"}),s&&Object(c.jsx)("button",{className:Ze.a.Button,type:"button",onClick:function(){return g(!0)},children:"Take Photo"}),Object(c.jsx)("button",{className:Ze.a.Button,type:"button",onClick:function(){return g(!1)},children:"Select Picture"}),t.name&&n.name?Object(c.jsx)("div",{className:Ze.a.ValidationError,children:t.image}):null,Object(c.jsx)("img",{ref:r,className:Ze.a.UploadedImage,alt:"Uploaded file"})]}),Object(c.jsxs)("div",{className:Ze.a.InputContainer,children:[Object(c.jsx)("label",{className:Ze.a.Label,htmlFor:"attribution",children:"Image attribution"}),Object(c.jsx)(Ge.a,{className:Ze.a.Input,type:"text",id:"attribution",name:"attribution"}),t.color&&n.color?Object(c.jsx)("div",{className:Ze.a.ValidationError,children:t.attribution}):null]}),Object(c.jsxs)("div",{className:Ze.a.InputContainer,children:[Object(c.jsx)("label",{className:Ze.a.Label,htmlFor:"category",children:"Category"}),Object(c.jsx)(Ge.a,{className:Ze.a.Input,as:"select",id:"category",name:"category",children:j.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))}),t.color&&n.color?Object(c.jsx)("div",{className:Ze.a.ValidationError,children:t.category}):null]}),Object(c.jsx)("div",{className:Ze.a.Controls,children:Object(c.jsx)("button",{className:Ze.a.Button,type:"submit",disabled:a,children:"Add Collection"})})]})}}))]})})),et=function(){var e=function(){var e=Object(o.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1];Object(o.useEffect)((function(){return window.addEventListener("beforeinstallprompt",c),function(){window.removeEventListener("beforeinstallprompt",c)}}),[]);var c=function(e){return e.preventDefault(),a(e),!1};return[null!==n,function(){n&&(n.prompt(),a(null))}]}(),t=Object(d.a)(e,2),n=t[0],a=t[1];ne();var r=Object(c.jsxs)(g.d,{children:[Object(c.jsx)(g.b,{path:"/collection/add",exact:!0,component:Xe}),Object(c.jsx)(g.b,{path:"/collection/:category",exact:!0,component:qe}),Object(c.jsx)(g.b,{path:"/collection",exact:!0,component:Fe}),Object(c.jsx)(g.b,{path:"/add",exact:!0,component:$e}),Object(c.jsx)(g.b,{path:"/",exact:!0,component:He}),Object(c.jsx)(g.a,{to:"/"})]});return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(se,{canInstall:n,install:a}),Object(c.jsx)("img",{className:m.a.Logo,src:ue,alt:"Logo"}),r,Object(c.jsx)(j.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},tt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function nt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(j.b.dark("An update is available and will be used after the next page reload.",{toastId:"sw-update"}),t&&t.onUpdate&&t.onUpdate(e)):(j.b.dark("Hygge is ready for offline use.",{toastId:"sw-offline"}),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var at=n(35),ct=n(106),ot={routesHelped:{}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return je(e,{routesHelped:t.routesHelped});default:return e}},it={categories:null,allHygge:null,collection:null,selectedIds:null},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return je(e,{allHygge:t.allHygge});case O:return je(e,{collection:t.collection});case y:return je(e,{selectedIds:t.selectedIds});case v:return je(e,{categories:t.categories});default:return e}},st=at.d,ut=Object(at.c)({app:rt,hygge:lt}),dt=Object(at.e)(ut,st(Object(at.a)(ct.a)));l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(u.a,{store:dt,children:Object(c.jsx)(s.a,{basename:"/hygge",children:Object(c.jsx)(et,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hygge",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hygge","/service-worker.js");tt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):nt(e,t)})).catch((function(){console.log("No internet connection found. Hygge is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):nt(t,e)}))}}()},26:function(e,t,n){e.exports={Menu:"Menu_Menu__3BbAQ",Open:"Menu_Open__3BL1e",MenuItem:"Menu_MenuItem__20Hmz",Inactive:"Menu_Inactive__JbVuI"}},27:function(e,t,n){e.exports={HyggeImage:"HyggeImage_HyggeImage__3IVgc",Remove:"HyggeImage_Remove__rsNkx",Small:"HyggeImage_Small__3ec51",Circle:"HyggeImage_Circle__3xqpq",Expanded:"HyggeImage_Expanded__3v_xf",Shrunk:"HyggeImage_Shrunk__23BbW",Selected:"HyggeImage_Selected__18fLV",Attribution:"HyggeImage_Attribution__1fERS"}},37:function(e,t,n){e.exports={Circle:"Category_Circle__bwg8C",SubHeading:"Category_SubHeading__1ohBX",Value:"Category_Value__1z-Zb",Big:"Category_Big__afxnG",Remove:"Category_Remove__3cLKP"}},43:function(e,t,n){e.exports={SuperHeader:"Heading_SuperHeader__2sQiR",Heading:"Heading_Heading__3lR0m",Expanded:"Heading_Expanded__SNKwU"}},5:function(e,t,n){e.exports={Container:"AddImage_Container__2AP8c",Form:"AddImage_Form__2OPaq",Heading:"AddImage_Heading__3Suwb",Controls:"AddImage_Controls__1ae-4",InputContainer:"AddImage_InputContainer__2OK3q",Label:"AddImage_Label__1p_xv",Input:"AddImage_Input__3qJUr",ValidationError:"AddImage_ValidationError__1iNjI",UploadedImage:"AddImage_UploadedImage__238L3",Button:"AddImage_Button__13tjK"}},56:function(e,t,n){e.exports={HyggeList:"HyggeList_HyggeList__3Y1uH",Wrap:"HyggeList_Wrap__Gc9Au"}},57:function(e,t,n){e.exports={Modal:"Modal_Modal__2uUkA",Content:"Modal_Content__lH0C9",Close:"Modal_Close__20tpT"}},69:function(e,t,n){e.exports={Category:"Category_Category__CVvHh",Backing:"Category_Backing__1HkkO",arrival:"Category_arrival__3bu6A"}},95:function(e,t,n){e.exports={Logo:"App_Logo__18yHE"}},97:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2VIvX"}},98:function(e,t,n){e.exports={Hygge:"Hygge_Hygge__2JLuE"}},99:function(e,t,n){e.exports={Collections:"CategoryList_Collections__2O7Gg"}}},[[218,1,2]]]);
//# sourceMappingURL=main.03db5409.chunk.js.map