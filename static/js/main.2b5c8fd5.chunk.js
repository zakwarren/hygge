(this.webpackJsonphygge=this.webpackJsonphygge||[]).push([[0],{106:function(e,n,t){},14:function(e,n,t){e.exports={Menu:"Menu_Menu__3BbAQ",Open:"Menu_Open__3BL1e",MenuItem:"Menu_MenuItem__20Hmz",Inactive:"Menu_Inactive__JbVuI"}},207:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(12),r=t.n(c),l=t(25),i=t(27),s=t(88),u=t(13),d=(t(106),t(4)),m=t(1),g=t(33),p=(t(107),t(90)),f=t.n(p),h="SET_COLLECTION",b="SET_SELECTED",_=t(9),y="Random",E="All",v="#bd8e62",C="+",j="#deddd9",S={surreal:{name:"Surreal",color:"#48d0e2"},warmth:{name:"Warmth",color:"#db5b5b"},seasons:{name:"Seasons",color:"#f2b61a"},aquatic:{name:"Aquatic",color:"#6ca7ec"},creatures:{name:"Creatures",color:"#7ab778"}},k=t.p+"static/media/sincerely-media-9nhxEa3PK30-unsplash.8274d1f2.jpg",O=t.p+"static/media/annie-spratt-OQj0chxpZOI-unsplash.95aef95b.jpg",H=t.p+"static/media/clay-banks-z_DkoUqgx6M-unsplash.76cd620b.jpg",x=t.p+"static/media/jyrki-sorjonen-WnWwzDxvA2M-unsplash.f84e3c7c.jpg",I=t.p+"static/media/olivier-guillard-FKJgBUDoVC0-unsplash.4b219741.jpg",w=t.p+"static/media/stephane-juban-DI8Bf6K1134-unsplash.0f33437b.jpg",N=t.p+"static/media/aditya-vyas-PzhmEp_aDU4-unsplash.612f23e0.jpg",L=t.p+"static/media/john-noonan-E-9CFTftQh4-unsplash.498b4ca3.jpg",A=t.p+"static/media/emily-toycen-jd_YFWRkOqQ-unsplash.94656feb.jpg",B=[{id:1,image:k,attribution:"Photo by Sincerely Media on Unsplash",category:S.warmth.name},{id:2,image:O,attribution:"Photo by Annie Spratt on Unsplash",category:S.warmth.name},{id:3,image:H,attribution:"Photo by Clay Banks on Unsplash",category:S.surreal.name},{id:4,image:x,attribution:"Photo by Jyrki Sorjonen on Unsplash",category:S.seasons.name},{id:5,image:I,attribution:"Photo by Olivier Guillard on Unsplash",category:S.seasons.name},{id:6,image:w,attribution:"Photo by St\xe9phane Juban on Unsplash",category:S.warmth.name},{id:7,image:N,attribution:"Photo by Aditya Vyas on Unsplash",category:S.seasons.name},{id:8,image:L,attribution:"Photo by John Noonan on Unsplash",category:S.seasons.name},{id:9,image:A,attribution:"Photo by Emily Toycen on Unsplash",category:S.seasons.name}],M=function(e,n){var t;e===y?t=B.sort((function(){return.5-Math.random()})).slice(0,4):t=e&&e!==E?B.filter((function(n){return n.category===e})):n&&n.length>0?B.filter((function(e){return n.includes(e.id)})):B;return t.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{display:!0,isExpanded:!1})}))},U="myHygge",P=function(e){return{type:h,collection:e}},T=function(e){return{type:b,selectedIds:e}},V=function(){return function(e){var n=localStorage.getItem(U),t=n?JSON.parse(n):null;if(t){e(T(t));var a=M(null,t);e(P(a))}else{var o=M(y);e(P(o))}}},W=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},D=t(14),J=t.n(D),F=t(91),q=t.n(F),R=function(e){return e.show?o.a.createElement("div",{className:q.a.Backdrop,onClick:e.clicked}):null},G=function(e){var n=Object(a.useState)(!1),t=Object(d.a)(n,2),c=t[0],r=t[1],i=function(){return r((function(e){return!e}))},s=[J.a.Menu],u=o.a.createElement("p",null,"...");return c&&(s.push(J.a.Open),u=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:J.a.MenuItem},o.a.createElement(l.b,{to:"/",exact:!0},"My hygge board")),o.a.createElement("p",{className:J.a.MenuItem},o.a.createElement(l.b,{to:"/collection"},"My collection")),e.canInstall?o.a.createElement("p",{className:J.a.MenuItem,onClick:e.install},"Install"):null,o.a.createElement("p",{className:[J.a.MenuItem,J.a.Inactive].join(" ")},"Upload file"),o.a.createElement("p",{className:[J.a.MenuItem,J.a.Inactive].join(" ")},"Share board"))),o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{show:c,clicked:i}),o.a.createElement("div",{className:s.join(" "),onClick:i},u))},z=t.p+"static/media/snowflake.e574fcc0.png",Q=t(92),K=t.n(Q),Y=function(e,n){return Object(_.a)(Object(_.a)({},e),n)},X=function(e,n){return e.map((function(e){return Y(e,{display:e.id===n?e.display:!e.display,isExpanded:e.id===n?!e.isExpanded:e.isExpanded})}))},Z=t(49),$=t.n(Z),ee=t(23),ne=t.n(ee),te=function(e){var n=e.image,t=e.attribution,c=e.display,r=e.isExpanded,l=e.isSelected,i=e.isSmall,s=e.clicked,u=e.longClicked,m=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.shouldPreventDefault,c=void 0===o||o,r=t.delay,l=void 0===r?300:r,i=Object(a.useState)(!1),s=Object(d.a)(i,2),u=s[0],m=s[1],g=Object(a.useRef)(),p=Object(a.useRef)(),f=Object(a.useCallback)((function(n){c&&n.target&&(n.target.addEventListener("touchend",W,{passive:!1}),p.current=n.target),g.current=setTimeout((function(){e(n),m(!0)}),l)}),[e,l,c]),h=Object(a.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];g.current&&clearTimeout(g.current),t&&!u&&n(),m(!1),c&&p.current&&p.current.removeEventListener("touchend",W)}),[c,n,u]);return{onMouseDown:function(e){return f(e)},onTouchStart:function(e){return f(e)},onMouseUp:function(e){return h(e)},onMouseLeave:function(e){return h(e,!1)},onTouchEnd:function(e){return h(e)}}}(u,s,{shouldPreventDefault:!0,delay:500}),g=u?m:{onClick:s},p=[ne.a.HyggeImage];r?p.push(ne.a.Expanded):c||p.push(ne.a.Shrunk),i&&!r&&c&&p.push(ne.a.Small);var f=[ne.a.Circle];return l&&f.push(ne.a.Selected),o.a.createElement("div",Object.assign({className:p.join(" ")},g),o.a.createElement("img",{className:f.join(" "),src:n,alt:t}),r?o.a.createElement("span",{className:ne.a.Attribution},t):null)},ae=function(e){var n=e.list,t=e.wrap,a=e.clickHygge,c=e.longClickHygge,r=t?"".concat($.a.HyggeList," ").concat($.a.Wrap):$.a.HyggeList;return o.a.createElement("div",{className:r},n.map((function(e){return o.a.createElement(te,Object.assign({key:e.id,isSmall:t},e,{clicked:function(){return a(e.id)},longClicked:c?function(){return c(e.id)}:null}))})))},oe=t(34),ce=t.n(oe),re=function(e){var n=e.headerText,t=e.hasExpanded,a=[ce.a.Heading],c=[ce.a.SuperHeader];return t&&(a.push(ce.a.Expanded),c.push(ce.a.Expanded)),o.a.createElement(o.a.Fragment,null,o.a.createElement("h5",{className:c.join(" ")},"my"),o.a.createElement("h1",{className:a.join(" ")},n))},le=Object(u.b)((function(e){return{collection:e.hygge.collection}}),(function(e){return{onGetSelection:function(){return e(V())},onSetCollection:function(n){return e(P(n))}}}))((function(e){var n=e.collection,t=e.onGetSelection,c=e.onSetCollection,r=Object(a.useState)(!1),l=Object(d.a)(r,2),i=l[0],s=l[1];Object(a.useEffect)((function(){return t()}),[t]);return o.a.createElement("main",{className:K.a.Hygge},o.a.createElement(re,{headerText:"Hygge Board",hasExpanded:i}),n&&o.a.createElement(ae,{list:n,wrap:!1,clickHygge:function(e){var t=X(n,e);c(t);var a=t.some((function(e){return e.isExpanded}));s(a)}}))})),ie=t(61),se=t.n(ie),ue=t(93),de=t.n(ue),me=t(35),ge=t.n(me),pe=function(e){var n=e.name,t=e.color,a=e.collection,c=e.onClick;return o.a.createElement("div",{className:ge.a.Circle,style:{backgroundColor:t,opacity:n===C?1:.25},onClick:c},o.a.createElement("h2",{className:"".concat(ge.a.SubHeading," ").concat(n===C?ge.a.Big:"")},n),n===C?null:o.a.createElement("div",{className:ge.a.Value},"x ",a.length))},fe=function(e){return o.a.createElement("section",{className:de.a.Collections},e.list.map((function(e){return o.a.createElement(pe,Object.assign({key:e.name},e))})))},he=Object(u.b)((function(e){return{allHygge:e.hygge.allHygge}}),(function(e){return{onSetCollection:function(n){return e(P(n))}}}))((function(e){var n=e.history,t=e.allHygge,a=e.onSetCollection,c=function(e){var t=M(e);a(t),n.push("/collection/".concat(e))},r=Object.keys(S).map((function(e){var n=S[e],a=t.filter((function(e){return e.category===n.name}));return Object(_.a)(Object(_.a)({},n),{},{collection:a,onClick:function(){return c(n.name)}})}));return r.unshift({name:E,color:v,collection:t,onClick:function(){return c(E)}}),r.push({name:C,color:j,collection:[],onClick:function(){return n.push("/collection/add")}}),o.a.createElement("main",{className:se.a.Collection},o.a.createElement(re,{headerText:"Collection",hasExpanded:!1}),o.a.createElement("section",{className:se.a.Categories},o.a.createElement(fe,{list:r})))})),be=t(5),_e=t(62),ye=t.n(_e),Ee=Object(u.b)((function(e){return{collection:e.hygge.collection,selectedIds:e.hygge.selectedIds}}),(function(e){return{onSaveSelection:function(n){return e((t=n,function(e){if(0===t.length)localStorage.removeItem(U);else{var n=JSON.stringify(t);localStorage.setItem(U,n)}e(T(t))}));var t},onSetCollection:function(n){return e(P(n))}}}))((function(e){var n=e.match,t=e.collection,c=e.selectedIds,r=e.onSaveSelection,l=e.onSetCollection,i=Object(a.useState)(!1),s=Object(d.a)(i,2),u=s[0],g=s[1],p=t?t.map((function(e){var n=c&&c.includes(e.id);return Object(_.a)(Object(_.a)({},e),{},{isSelected:n})})):null,f=o.a.createElement(m.a,{to:"/collection"});return t&&(f=o.a.createElement("main",{className:ye.a.Category},o.a.createElement(re,{headerText:n.params.category,hasExpanded:u}),o.a.createElement("div",{className:ye.a.Backing}),o.a.createElement(ae,{list:p,wrap:!0,clickHygge:function(e){var n=[];n=c&&c.includes(e)?c.filter((function(n){return n!==e})):c?[].concat(Object(be.a)(c),[e]):[e];var t=Object(be.a)(new Set(n));r(t)},longClickHygge:function(e){var n=X(t,e);l(n);var a=n.some((function(e){return e.isExpanded}));g(a)}}))),f})),ve=t(36),Ce=t(64),je=t(6),Se=t.n(je),ke=function(){var e=Ce.a().shape({name:Ce.b().required("Please enter a valid collection name")});return o.a.createElement("section",{className:Se.a.Container},o.a.createElement("h1",{className:Se.a.Heading},"Add Collection"),o.a.createElement(ve.c,{initialValues:{name:"",colour:"#ffffff"},validationSchema:e,onSubmit:function(e){console.log(e)}},(function(e){var n=e.errors,t=e.touched,a=Object.keys(n).length>0;return o.a.createElement(ve.b,{className:Se.a.Form},o.a.createElement("div",{className:Se.a.InputContainer},o.a.createElement("label",{className:Se.a.Label},"Collection Name"),o.a.createElement(ve.a,{className:Se.a.Input,type:"input",id:"name",name:"name"}),n.name&&t.name?o.a.createElement("div",{className:Se.a.ValidationError},n.name):null),o.a.createElement("div",{className:Se.a.InputContainer},o.a.createElement("label",{className:Se.a.Label},"Colour"),o.a.createElement(ve.a,{className:Se.a.Input,type:"color",id:"colour",name:"colour"}),n.colour&&t.colour?o.a.createElement("div",{className:Se.a.ValidationError},n.colour):null),o.a.createElement("div",{className:Se.a.Controls},o.a.createElement("button",{className:Se.a.Button,type:"submit",disabled:a},"Add Collection")))})))},Oe=function(){var e=function(){var e=Object(a.useState)(null),n=Object(d.a)(e,2),t=n[0],o=n[1];Object(a.useEffect)((function(){return window.addEventListener("beforeinstallprompt",c),function(){window.removeEventListener("beforeinstallprompt",c)}}),[]);var c=function(e){return e.preventDefault(),o(e),!1};return[null!==t,function(){t&&(t.prompt(),o(null))}]}(),n=Object(d.a)(e,2),t=n[0],c=n[1];!function(){var e=Object(u.c)();Object(a.useEffect)((function(){return e(V())}),[e])}();var r=o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/collection/add",exact:!0,component:ke}),o.a.createElement(m.b,{path:"/collection/:category",exact:!0,component:Ee}),o.a.createElement(m.b,{path:"/collection",exact:!0,component:he}),o.a.createElement(m.b,{path:"/",exact:!0,component:le}),o.a.createElement(m.a,{to:"/"}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(G,{canInstall:t,install:c}),o.a.createElement("img",{className:f.a.Logo,src:z,alt:"Logo"}),r,o.a.createElement(g.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))},He=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xe(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(g.b.dark("An update is available and will be used after the next page reload.",{toastId:"sw-update"}),n&&n.onUpdate&&n.onUpdate(e)):(g.b.dark("Hygge is ready for offline use.",{toastId:"sw-offline"}),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ie={categories:S,allHygge:M(),collection:null,selectedIds:null},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case h:return Y(e,{collection:n.collection});case b:return Y(e,{selectedIds:n.selectedIds});default:return e}},Ne=i.d,Le=Object(i.c)({hygge:we}),Ae=Object(i.e)(Le,Ne(Object(i.a)(s.a)));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:Ae},o.a.createElement(l.a,{basename:"/hygge"},o.a.createElement(Oe,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hygge",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/hygge","/service-worker.js");He?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):xe(e,n)})).catch((function(){console.log("No internet connection found. Hygge is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):xe(n,e)}))}}()},23:function(e,n,t){e.exports={HyggeImage:"HyggeImage_HyggeImage__3IVgc",Small:"HyggeImage_Small__3ec51",Circle:"HyggeImage_Circle__3xqpq",Expanded:"HyggeImage_Expanded__3v_xf",Shrunk:"HyggeImage_Shrunk__23BbW",Selected:"HyggeImage_Selected__18fLV",Attribution:"HyggeImage_Attribution__1fERS"}},34:function(e,n,t){e.exports={SuperHeader:"Heading_SuperHeader__2sQiR",Heading:"Heading_Heading__3lR0m",Expanded:"Heading_Expanded__SNKwU"}},35:function(e,n,t){e.exports={Circle:"Category_Circle__bwg8C",SubHeading:"Category_SubHeading__1ohBX",Value:"Category_Value__1z-Zb",Big:"Category_Big__afxnG"}},49:function(e,n,t){e.exports={HyggeList:"HyggeList_HyggeList__3Y1uH",Wrap:"HyggeList_Wrap__Gc9Au"}},6:function(e,n,t){e.exports={Container:"AddCollection_Container__xN3Yi",Form:"AddCollection_Form__2JVDY",Heading:"AddCollection_Heading__2wePG",Controls:"AddCollection_Controls__1qqXE",InputContainer:"AddCollection_InputContainer__2-B-j",Label:"AddCollection_Label__qAMRA",Input:"AddCollection_Input__xzSOV",ValidationError:"AddCollection_ValidationError__5xQmc",Button:"AddCollection_Button__Ar0_0"}},61:function(e,n,t){e.exports={Collection:"Collection_Collection__1aLpU",Heading:"Collection_Heading__150P6",Categories:"Collection_Categories__98J8f"}},62:function(e,n,t){e.exports={Category:"Category_Category__CVvHh",Backing:"Category_Backing__1HkkO",arrival:"Category_arrival__3bu6A"}},90:function(e,n,t){e.exports={Logo:"App_Logo__18yHE"}},91:function(e,n,t){e.exports={Backdrop:"Backdrop_Backdrop__2VIvX"}},92:function(e,n,t){e.exports={Hygge:"Hygge_Hygge__2JLuE"}},93:function(e,n,t){e.exports={Collections:"CategoryList_Collections__2O7Gg"}}},[[207,1,2]]]);
//# sourceMappingURL=main.2b5c8fd5.chunk.js.map