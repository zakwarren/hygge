(this.webpackJsonphygge=this.webpackJsonphygge||[]).push([[0],{107:function(e,t,n){},14:function(e,t,n){e.exports={Menu:"Menu_Menu__3BbAQ",Open:"Menu_Open__3BL1e",MenuItem:"Menu_MenuItem__20Hmz",Inactive:"Menu_Inactive__JbVuI"}},208:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(13),c=n.n(r),i=n(25),l=n(27),s=n(89),u=n(10),g=(n(107),n(4)),m=n(1),d=n(34),p=(n(108),n(91)),f=n.n(p),h="SET_COLLECTION",y="SET_SELECTED",b="SET_CATEGORIES",_=n(5),v="Random",E="All",C="#bd8e62",S="+",j="#deddd9",O={surreal:{name:"Surreal",color:"#48d0e2"},warmth:{name:"Warmth",color:"#db5b5b"},seasons:{name:"Seasons",color:"#f2b61a"},aquatic:{name:"Aquatic",color:"#6ca7ec"},creatures:{name:"Creatures",color:"#7ab778"}},k=n.p+"static/media/sincerely-media-9nhxEa3PK30-unsplash.8274d1f2.jpg",H=n.p+"static/media/annie-spratt-OQj0chxpZOI-unsplash.95aef95b.jpg",I=n.p+"static/media/clay-banks-z_DkoUqgx6M-unsplash.76cd620b.jpg",x=n.p+"static/media/jyrki-sorjonen-WnWwzDxvA2M-unsplash.f84e3c7c.jpg",N=n.p+"static/media/olivier-guillard-FKJgBUDoVC0-unsplash.4b219741.jpg",w=n.p+"static/media/stephane-juban-DI8Bf6K1134-unsplash.0f33437b.jpg",L=n.p+"static/media/aditya-vyas-PzhmEp_aDU4-unsplash.612f23e0.jpg",A=n.p+"static/media/john-noonan-E-9CFTftQh4-unsplash.498b4ca3.jpg",B=n.p+"static/media/emily-toycen-jd_YFWRkOqQ-unsplash.94656feb.jpg",M=[{id:1,image:k,attribution:"Photo by Sincerely Media on Unsplash",category:O.warmth.name},{id:2,image:H,attribution:"Photo by Annie Spratt on Unsplash",category:O.warmth.name},{id:3,image:I,attribution:"Photo by Clay Banks on Unsplash",category:O.surreal.name},{id:4,image:x,attribution:"Photo by Jyrki Sorjonen on Unsplash",category:O.seasons.name},{id:5,image:N,attribution:"Photo by Olivier Guillard on Unsplash",category:O.seasons.name},{id:6,image:w,attribution:"Photo by St\xe9phane Juban on Unsplash",category:O.warmth.name},{id:7,image:L,attribution:"Photo by Aditya Vyas on Unsplash",category:O.seasons.name},{id:8,image:A,attribution:"Photo by John Noonan on Unsplash",category:O.seasons.name},{id:9,image:B,attribution:"Photo by Emily Toycen on Unsplash",category:O.seasons.name}],P=function(e,t){var n;e===v?n=M.sort((function(){return.5-Math.random()})).slice(0,4):n=e&&e!==E?M.filter((function(t){return t.category===e})):t&&t.length>0?M.filter((function(e){return t.includes(e.id)})):M;return n.map((function(e){return Object(_.a)(Object(_.a)({},e),{},{display:!0,isExpanded:!1})}))},T="myHygge",U="myCategories",V=function(e){return{type:h,collection:e}},J=function(e){return{type:y,selectedIds:e}},W=function(){return function(e){var t=localStorage.getItem(T),n=t?JSON.parse(t):null;if(n){e(J(n));var a=P(null,n);e(V(a))}else{var o=P(v);e(V(o))}}},D=function(e){if(JSON.stringify(e)===JSON.stringify(O))localStorage.removeItem(U);else{var t=JSON.stringify(e);localStorage.setItem(U,t)}return{type:b,categories:e}},F=function(){var e=Object(u.c)();Object(a.useEffect)((function(){e(function(){var e=localStorage.getItem(U),t=e?JSON.parse(e):O;return{type:b,categories:t}}()),e(W())}),[e])},R=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},q=n(14),G=n.n(q),z=n(92),Q=n.n(z),K=function(e){return e.show?o.a.createElement("div",{className:Q.a.Backdrop,onClick:e.clicked}):null},X=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],c=n[1],l=function(){return c((function(e){return!e}))},s=[G.a.Menu],u=o.a.createElement("p",null,"...");return r&&(s.push(G.a.Open),u=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:G.a.MenuItem},o.a.createElement(i.b,{to:"/",exact:!0},"My hygge board")),o.a.createElement("p",{className:G.a.MenuItem},o.a.createElement(i.b,{to:"/collection"},"My collection")),e.canInstall?o.a.createElement("p",{className:G.a.MenuItem,onClick:e.install},"Install"):null,o.a.createElement("p",{className:[G.a.MenuItem,G.a.Inactive].join(" ")},"Upload file"),o.a.createElement("p",{className:[G.a.MenuItem,G.a.Inactive].join(" ")},"Share board"))),o.a.createElement(o.a.Fragment,null,o.a.createElement(K,{show:r,clicked:l}),o.a.createElement("div",{className:s.join(" "),onClick:l},u))},Y=n.p+"static/media/snowflake.e574fcc0.png",Z=n(93),$=n.n(Z),ee=function(e,t){return Object(_.a)(Object(_.a)({},e),t)},te=function(e,t){return e.map((function(e){return ee(e,{display:e.id===t?e.display:!e.display,isExpanded:e.id===t?!e.isExpanded:e.isExpanded})}))},ne=n(50),ae=n.n(ne),oe=n(23),re=n.n(oe),ce=function(e){var t=e.image,n=e.attribution,r=e.display,c=e.isExpanded,i=e.isSelected,l=e.isSmall,s=e.clicked,u=e.longClicked,m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.shouldPreventDefault,r=void 0===o||o,c=n.delay,i=void 0===c?300:c,l=Object(a.useState)(!1),s=Object(g.a)(l,2),u=s[0],m=s[1],d=Object(a.useRef)(),p=Object(a.useRef)(),f=Object(a.useCallback)((function(t){r&&t.target&&(t.target.addEventListener("touchend",R,{passive:!1}),p.current=t.target),d.current=setTimeout((function(){e(t),m(!0)}),i)}),[e,i,r]),h=Object(a.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];d.current&&clearTimeout(d.current),n&&!u&&t(),m(!1),r&&p.current&&p.current.removeEventListener("touchend",R)}),[r,t,u]);return{onMouseDown:function(e){return f(e)},onTouchStart:function(e){return f(e)},onMouseUp:function(e){return h(e)},onMouseLeave:function(e){return h(e,!1)},onTouchEnd:function(e){return h(e)}}}(u,s,{shouldPreventDefault:!0,delay:500}),d=u?m:{onClick:s},p=[re.a.HyggeImage];c?p.push(re.a.Expanded):r||p.push(re.a.Shrunk),l&&!c&&r&&p.push(re.a.Small);var f=[re.a.Circle];return i&&f.push(re.a.Selected),o.a.createElement("div",Object.assign({className:p.join(" ")},d),o.a.createElement("img",{className:f.join(" "),src:t,alt:n}),c?o.a.createElement("span",{className:re.a.Attribution},n):null)},ie=function(e){var t=e.list,n=e.wrap,a=e.clickHygge,r=e.longClickHygge,c=n?"".concat(ae.a.HyggeList," ").concat(ae.a.Wrap):ae.a.HyggeList;return o.a.createElement("div",{className:c},t.map((function(e){return o.a.createElement(ce,Object.assign({key:e.id,isSmall:n},e,{clicked:function(){return a(e.id)},longClicked:r?function(){return r(e.id)}:null}))})))},le=n(35),se=n.n(le),ue=function(e){var t=e.headerText,n=e.hasExpanded,a=[se.a.Heading],r=[se.a.SuperHeader];return n&&(a.push(se.a.Expanded),r.push(se.a.Expanded)),o.a.createElement(o.a.Fragment,null,o.a.createElement("h5",{className:r.join(" ")},"my"),o.a.createElement("h1",{className:a.join(" ")},t))},ge=Object(u.b)((function(e){return{collection:e.hygge.collection}}),(function(e){return{onGetSelection:function(){return e(W())},onSetCollection:function(t){return e(V(t))}}}))((function(e){var t=e.collection,n=e.onGetSelection,r=e.onSetCollection,c=Object(a.useState)(!1),i=Object(g.a)(c,2),l=i[0],s=i[1];Object(a.useEffect)((function(){return n()}),[n]);return o.a.createElement("main",{className:$.a.Hygge},o.a.createElement(ue,{headerText:"Hygge Board",hasExpanded:l}),t&&o.a.createElement(ie,{list:t,wrap:!1,clickHygge:function(e){var n=te(t,e);r(n);var a=n.some((function(e){return e.isExpanded}));s(a)}}))})),me=n(62),de=n.n(me),pe=n(94),fe=n.n(pe),he=n(29),ye=n.n(he),be=function(e){var t=e.name,n=e.color,a=e.collection,r=e.onClick,c=e.removeCategory;return o.a.createElement("div",{className:ye.a.Circle,style:{backgroundColor:n,opacity:t===S?1:.25},onClick:r},o.a.createElement("h2",{className:"".concat(ye.a.SubHeading," ").concat(t===S?ye.a.Big:"")},t),t===S?null:o.a.createElement("div",{className:ye.a.Value},"x ",a.length),t===S?null:o.a.createElement("span",{className:ye.a.Remove,onClick:function(e){e.stopPropagation(),c(t)}},"X"))},_e=function(e){var t=e.list,n=e.removeCategory;return o.a.createElement("section",{className:fe.a.Collections},t.map((function(e){return o.a.createElement(be,Object.assign({key:e.name},e,{removeCategory:n}))})))},ve=Object(u.b)((function(e){return{allHygge:e.hygge.allHygge,categories:e.hygge.categories}}),(function(e){return{onSetCollection:function(t){return e(V(t))},onSetCategories:function(t){return e(D(t))}}}))((function(e){var t=e.history,n=e.allHygge,a=e.categories,r=e.onSetCollection,c=e.onSetCategories;if(!a)return null;var i=function(e){var n=P(e);r(n),t.push("/collection/".concat(e))},l=Object.keys(a).map((function(e){var t=a[e],o=n.filter((function(e){return e.category===t.name}));return Object(_.a)(Object(_.a)({},t),{},{collection:o,onClick:function(){return i(t.name)}})}));return l.unshift({name:E,color:C,collection:n,onClick:function(){return i(E)}}),l.push({name:S,color:j,collection:[],onClick:function(){return t.push("/collection/add")}}),o.a.createElement("main",{className:de.a.Collection},o.a.createElement(ue,{headerText:"Collection",hasExpanded:!1}),o.a.createElement("section",{className:de.a.Categories},o.a.createElement(_e,{list:l,removeCategory:function(e){var t=Object(_.a)({},a);delete t[e.toLowerCase()],c(t)}})))})),Ee=n(6),Ce=n(63),Se=n.n(Ce),je=Object(u.b)((function(e){return{collection:e.hygge.collection,selectedIds:e.hygge.selectedIds}}),(function(e){return{onSaveSelection:function(t){return e((n=t,function(e){if(0===n.length)localStorage.removeItem(T);else{var t=JSON.stringify(n);localStorage.setItem(T,t)}e(J(n))}));var n},onSetCollection:function(t){return e(V(t))}}}))((function(e){var t=e.match,n=e.collection,r=e.selectedIds,c=e.onSaveSelection,i=e.onSetCollection,l=Object(a.useState)(!1),s=Object(g.a)(l,2),u=s[0],d=s[1],p=n?n.map((function(e){var t=r&&r.includes(e.id);return Object(_.a)(Object(_.a)({},e),{},{isSelected:t})})):null,f=o.a.createElement(m.a,{to:"/collection"});return n&&(f=o.a.createElement("main",{className:Se.a.Category},o.a.createElement(ue,{headerText:t.params.category,hasExpanded:u}),o.a.createElement("div",{className:Se.a.Backing}),o.a.createElement(ie,{list:p,wrap:!0,clickHygge:function(e){var t=[];t=r&&r.includes(e)?r.filter((function(t){return t!==e})):r?[].concat(Object(Ee.a)(r),[e]):[e];var n=Object(Ee.a)(new Set(t));c(n)},longClickHygge:function(e){var t=te(n,e);i(t);var a=t.some((function(e){return e.isExpanded}));d(a)}}))),f})),Oe=n(46),ke=n(36),He=n(65),Ie=n(7),xe=n.n(Ie),Ne=Object(u.b)((function(e){return{categories:e.hygge.categories}}),(function(e){return{onSetCategories:function(t){return e(D(t))}}}))((function(e){var t=e.history,n=e.categories,a=e.onSetCategories,r=He.a().shape({name:He.b().required("Please enter a valid collection name")});return o.a.createElement("section",{className:xe.a.Container},o.a.createElement("h1",{className:xe.a.Heading},"Add Collection"),o.a.createElement(ke.c,{initialValues:{name:"",color:"#ffffff"},validationSchema:r,onSubmit:function(e){var o=Object(_.a)(Object(_.a)({},n),{},Object(Oe.a)({},e.name.toLowerCase(),e));a(o),t.push("/collection")}},(function(e){var t=e.errors,n=e.touched,a=Object.keys(t).length>0;return o.a.createElement(ke.b,{className:xe.a.Form},o.a.createElement("div",{className:xe.a.InputContainer},o.a.createElement("label",{className:xe.a.Label,htmlFor:"name"},"Collection Name"),o.a.createElement(ke.a,{className:xe.a.Input,type:"input",id:"name",name:"name"}),t.name&&n.name?o.a.createElement("div",{className:xe.a.ValidationError},t.name):null),o.a.createElement("div",{className:xe.a.InputContainer},o.a.createElement("label",{className:xe.a.Label,htmlFor:"color"},"Colour"),o.a.createElement(ke.a,{className:xe.a.Input,type:"color",id:"color",name:"color"}),t.color&&n.color?o.a.createElement("div",{className:xe.a.ValidationError},t.color):null),o.a.createElement("div",{className:xe.a.Controls},o.a.createElement("button",{className:xe.a.Button,type:"submit",disabled:a},"Add Collection")))})))})),we=function(){var e=function(){var e=Object(a.useState)(null),t=Object(g.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){return window.addEventListener("beforeinstallprompt",r),function(){window.removeEventListener("beforeinstallprompt",r)}}),[]);var r=function(e){return e.preventDefault(),o(e),!1};return[null!==n,function(){n&&(n.prompt(),o(null))}]}(),t=Object(g.a)(e,2),n=t[0],r=t[1];F();var c=o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/collection/add",exact:!0,component:Ne}),o.a.createElement(m.b,{path:"/collection/:category",exact:!0,component:je}),o.a.createElement(m.b,{path:"/collection",exact:!0,component:ve}),o.a.createElement(m.b,{path:"/",exact:!0,component:ge}),o.a.createElement(m.a,{to:"/"}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(X,{canInstall:n,install:r}),o.a.createElement("img",{className:f.a.Logo,src:Y,alt:"Logo"}),c,o.a.createElement(d.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))},Le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ae(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(d.b.dark("An update is available and will be used after the next page reload.",{toastId:"sw-update"}),t&&t.onUpdate&&t.onUpdate(e)):(d.b.dark("Hygge is ready for offline use.",{toastId:"sw-offline"}),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Be={categories:null,allHygge:P(),collection:null,selectedIds:null},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return ee(e,{collection:t.collection});case y:return ee(e,{selectedIds:t.selectedIds});case b:return ee(e,{categories:t.categories});default:return e}},Pe=l.d,Te=Object(l.c)({hygge:Me}),Ue=Object(l.e)(Te,Pe(Object(l.a)(s.a)));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:Ue},o.a.createElement(i.a,{basename:"/hygge"},o.a.createElement(we,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hygge",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hygge","/service-worker.js");Le?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ae(e,t)})).catch((function(){console.log("No internet connection found. Hygge is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ae(t,e)}))}}()},23:function(e,t,n){e.exports={HyggeImage:"HyggeImage_HyggeImage__3IVgc",Small:"HyggeImage_Small__3ec51",Circle:"HyggeImage_Circle__3xqpq",Expanded:"HyggeImage_Expanded__3v_xf",Shrunk:"HyggeImage_Shrunk__23BbW",Selected:"HyggeImage_Selected__18fLV",Attribution:"HyggeImage_Attribution__1fERS"}},29:function(e,t,n){e.exports={Circle:"Category_Circle__bwg8C",SubHeading:"Category_SubHeading__1ohBX",Value:"Category_Value__1z-Zb",Big:"Category_Big__afxnG",Remove:"Category_Remove__3cLKP"}},35:function(e,t,n){e.exports={SuperHeader:"Heading_SuperHeader__2sQiR",Heading:"Heading_Heading__3lR0m",Expanded:"Heading_Expanded__SNKwU"}},50:function(e,t,n){e.exports={HyggeList:"HyggeList_HyggeList__3Y1uH",Wrap:"HyggeList_Wrap__Gc9Au"}},62:function(e,t,n){e.exports={Collection:"Collection_Collection__1aLpU",Heading:"Collection_Heading__150P6",Categories:"Collection_Categories__98J8f"}},63:function(e,t,n){e.exports={Category:"Category_Category__CVvHh",Backing:"Category_Backing__1HkkO",arrival:"Category_arrival__3bu6A"}},7:function(e,t,n){e.exports={Container:"AddCollection_Container__xN3Yi",Form:"AddCollection_Form__2JVDY",Heading:"AddCollection_Heading__2wePG",Controls:"AddCollection_Controls__1qqXE",InputContainer:"AddCollection_InputContainer__2-B-j",Label:"AddCollection_Label__qAMRA",Input:"AddCollection_Input__xzSOV",ValidationError:"AddCollection_ValidationError__5xQmc",Button:"AddCollection_Button__Ar0_0"}},91:function(e,t,n){e.exports={Logo:"App_Logo__18yHE"}},92:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2VIvX"}},93:function(e,t,n){e.exports={Hygge:"Hygge_Hygge__2JLuE"}},94:function(e,t,n){e.exports={Collections:"CategoryList_Collections__2O7Gg"}}},[[208,1,2]]]);
//# sourceMappingURL=main.d96ce363.chunk.js.map